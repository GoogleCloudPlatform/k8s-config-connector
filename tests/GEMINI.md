# Directory: tests

This directory contains the end-to-end (e2e) tests for Config Connector.

## Testing Strategy

The e2e tests are designed to verify the behavior of the KCC controllers in a realistic environment. The core test is `TestAllInSeries` in `tests/e2e`.

The tests follow a golden testing pattern:
1.  A test fixture is defined in `pkg/test/resourcefixture/testdata/basic`. This includes a `create.yaml`, `update.yaml`, and `dependencies.yaml`.
2.  The test is run against a real GCP project to record the expected GCP API traffic. This is saved as a `_http.log` file.
3.  The test is then run against the mock GCP environment (`mockgcp`). The traffic generated by the mock is compared against the golden `_http.log` file.

This strategy allows us to have high confidence in our mock GCP layer and run most of our tests hermetically.

The `hack` directory contains scripts like `record-gcp` and `compare-mock` to help with this workflow.

See also the root `GEMINI.md`, `mockgcp/GEMINI.md`, and `hack/GEMINI.md`.
