# ConfigConnectorContext Golden Tests

This directory contains golden tests for the `ConfigConnectorContext` controller.
These tests verify the Kubernetes resources generated by the operator when a `ConfigConnectorContext` resource is reconciled in a specific namespace.

## Test Structure

Each subdirectory represents a test case:

- `dependencies.yaml`: Global resources that must exist before the test starts (e.g., the cluster-scoped `ConfigConnector` resource, Namespaces, ConfigMaps).
- `input.yaml`: The `ConfigConnectorContext` resource to be reconciled.
- `_expected.yaml`: The set of Kubernetes resources (StatefulSets, Services, RBAC, etc.) that the operator is expected to generate for the namespaced controller manager.

## Running Tests

Tests are run as part of the package tests:

```bash
go test -v ./operator/pkg/controllers/configconnectorcontext/
```

## Updating Expected Output

If you make changes that legitimately change the generated resources, you can update the golden files by running:

```bash
WRITE_GOLDEN_OUTPUT=1 go test -v ./operator/pkg/controllers/configconnectorcontext/
```
