# Copyright 2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cnrm.cloud.google.com/version: 1.134.0
  creationTimestamp: null
  labels:
    cnrm.cloud.google.com/managed-by-kcc: "true"
    cnrm.cloud.google.com/system: "true"
  name: computeinterconnects.compute.cnrm.cloud.google.com
spec:
  group: compute.cnrm.cloud.google.com
  names:
    categories:
    - gcp
    kind: ComputeInterconnect
    listKind: ComputeInterconnectList
    plural: computeinterconnects
    shortNames:
    - gcpcomputeinterconnect
    - gcpcomputeinterconnects
    singular: computeinterconnect
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - description: When 'True', the most recent reconcile of the resource succeeded
      jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: Ready
      type: string
    - description: The reason for the value in 'Ready'
      jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Status
      type: string
    - description: The last transition time for the value in 'Status'
      jsonPath: .status.conditions[?(@.type=='Ready')].lastTransitionTime
      name: Status Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ComputeInterconnect is the Schema for the ComputeInterconnect
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ComputeInterconnectSpec defines the desired state of ComputeInterconnect
            properties:
              adminEnabled:
                description: Administrative status of the interconnect. When this
                  is set to true, the Interconnect is functional and can carry traffic.
                  When set to false, no packets can be carried over the interconnect
                  and no BGP routes are exchanged over it. By default, the status
                  is set to true.
                type: boolean
              customerName:
                description: Customer name, to put in the Letter of Authorization
                  as the party authorized to request a crossconnect.
                type: string
              description:
                description: An optional description of this resource. Provide this
                  property when you create the resource.
                type: string
              interconnectType:
                description: 'Type of interconnect, which can take one of the following
                  values: - PARTNER: A partner-managed interconnection shared between
                  customers though a partner. - DEDICATED: A dedicated physical interconnection
                  with the customer. Note that a value IT_PRIVATE has been deprecated
                  in favor of DEDICATED. Check the InterconnectType enum for the list
                  of possible values.'
                type: string
              labelFingerprint:
                description: A fingerprint for the labels being applied to this Interconnect,
                  which is essentially a hash of the labels set used for optimistic
                  locking. The fingerprint is initially generated by Compute Engine
                  and changes after every request to modify or update labels. You
                  must always provide an up-to-date fingerprint hash in order to update
                  or change labels, otherwise the request will fail with error 412
                  conditionNotMet. To see the latest fingerprint, make a get() request
                  to retrieve an Interconnect.
                type: string
              labels:
                additionalProperties:
                  type: string
                description: Labels for this resource. These can only be added or
                  modified by the setLabels method. Each label key/value pair must
                  comply with RFC1035. Label values may be empty.
                type: object
              linkType:
                description: 'Type of link requested, which can take one of the following
                  values: - LINK_TYPE_ETHERNET_10G_LR: A 10G Ethernet with LR optics
                  - LINK_TYPE_ETHERNET_100G_LR: A 100G Ethernet with LR optics. Note
                  that this field indicates the speed of each of the links in the
                  bundle, not the speed of the entire bundle. Check the LinkType enum
                  for the list of possible values.'
                type: string
              location:
                description: URL of the InterconnectLocation object that represents
                  where this connection is to be provisioned.
                type: string
              macsec:
                description: Configuration that enables Media Access Control security
                  (MACsec) on the Cloud Interconnect connection between Google and
                  your on-premises router.
                properties:
                  failOpen:
                    description: If set to true, the Interconnect connection is configured
                      with a should-secure MACsec security policy, that allows the
                      Google router to fallback to cleartext traffic if the MKA session
                      cannot be established. By default, the Interconnect connection
                      is configured with a must-secure security policy that drops
                      all traffic if the MKA session cannot be established with your
                      router.
                    type: boolean
                  preSharedKeys:
                    description: Required. A keychain placeholder describing a set
                      of named key objects along with their start times. A MACsec
                      CKN/CAK is generated for each key in the key chain. Google router
                      automatically picks the key with the most recent startTime when
                      establishing or re-establishing a MACsec secure link.
                    items:
                      properties:
                        name:
                          description: Required. A name for this pre-shared key. The
                            name must be 1-63 characters long, and comply with RFC1035.
                            Specifically, the name must be 1-63 characters long and
                            match the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?`
                            which means the first character must be a lowercase letter,
                            and all following characters must be a dash, lowercase
                            letter, or digit, except the last character, which cannot
                            be a dash.
                          type: string
                        startTime:
                          description: A RFC3339 timestamp on or after which the key
                            is valid. startTime can be in the future. If the keychain
                            has a single key, startTime can be omitted. If the keychain
                            has multiple keys, startTime is mandatory for each key.
                            The start times of keys must be in increasing order. The
                            start times of two consecutive keys must be at least 6
                            hours apart.
                          type: string
                      type: object
                    type: array
                type: object
              macsecEnabled:
                description: Enable or disable MACsec on this Interconnect connection.
                  MACsec enablement fails if the MACsec object is not specified.
                type: boolean
              nocContactEmail:
                description: Email address to contact the customer NOC for operations
                  and maintenance notifications regarding this Interconnect. If specified,
                  this will be used for notifications in addition to all other forms
                  described, such as Cloud Monitoring logs alerting and Cloud Notifications.
                  This field is required for users who sign up for Cloud Interconnect
                  using workforce identity federation.
                type: string
              projectRef:
                description: The Project that this resource belongs to.
                oneOf:
                - not:
                    required:
                    - external
                  required:
                  - name
                - not:
                    anyOf:
                    - required:
                      - name
                    - required:
                      - namespace
                  required:
                  - external
                properties:
                  external:
                    description: The `projectID` field of a project, when not managed
                      by Config Connector.
                    type: string
                  kind:
                    description: The kind of the Project resource; optional but must
                      be `Project` if provided.
                    type: string
                  name:
                    description: The `name` field of a `Project` resource.
                    type: string
                  namespace:
                    description: The `namespace` field of a `Project` resource.
                    type: string
                type: object
              remoteLocation:
                description: Indicates that this is a Cross-Cloud Interconnect. This
                  field specifies the location outside of Google's network that the
                  interconnect is connected to.
                type: string
              requestedFeatures:
                description: 'Optional. List of features requested for this Interconnect
                  connection, which can take one of the following values: - IF_MACSEC
                  If specified then the connection is created on MACsec capable hardware
                  ports. If not specified, the default value is false, which allocates
                  non-MACsec capable ports first if available. This parameter can
                  be provided only with Interconnect INSERT. It isn''t valid for Interconnect
                  PATCH. Check the RequestedFeatures enum for the list of possible
                  values.'
                items:
                  type: string
                type: array
              requestedLinkCount:
                description: Target number of physical links in the link bundle, as
                  requested by the customer.
                format: int32
                type: integer
              resourceID:
                description: The ComputeInterconnect name. If not given, the metadata.name
                  will be used.
                type: string
            required:
            - projectRef
            type: object
          status:
            description: ComputeInterconnectStatus defines the config connector machine
              state of ComputeInterconnect
            properties:
              conditions:
                description: Conditions represent the latest available observations
                  of the object's current state.
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      type: string
                    message:
                      description: Human-readable message indicating details about
                        last transition.
                      type: string
                    reason:
                      description: Unique, one-word, CamelCase reason for the condition's
                        last transition.
                      type: string
                    status:
                      description: Status is the status of the condition. Can be True,
                        False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the condition.
                      type: string
                  type: object
                type: array
              externalRef:
                description: A unique specifier for the ComputeInterconnect resource
                  in GCP.
                type: string
              observedGeneration:
                description: ObservedGeneration is the generation of the resource
                  that was most recently observed by the Config Connector controller.
                  If this is equal to metadata.generation, then that means that the
                  current reported status reflects the most recent desired state of
                  the resource.
                format: int64
                type: integer
              observedState:
                description: ObservedState is the state of the resource as most recently
                  observed in GCP.
                properties:
                  availableFeatures:
                    description: '[Output only] List of features available for this
                      Interconnect connection, which can take one of the following
                      values: - IF_MACSEC If present then the Interconnect connection
                      is provisioned on MACsec capable hardware ports. If not present
                      then the Interconnect connection is provisioned on non-MACsec
                      capable ports and MACsec isn''t supported and enabling MACsec
                      fails. Check the AvailableFeatures enum for the list of possible
                      values.'
                    items:
                      type: string
                    type: array
                  circuitInfos:
                    description: '[Output Only] A list of CircuitInfo objects, that
                      describe the individual circuits in this LAG.'
                    items:
                      properties:
                        customerDemarcID:
                          description: Customer-side demarc ID for this circuit.
                          type: string
                        googleCircuitID:
                          description: Google-assigned unique ID for this circuit.
                            Assigned at circuit turn-up.
                          type: string
                        googleDemarcID:
                          description: Google-side demarc ID for this circuit. Assigned
                            at circuit turn-up and provided by Google to the customer
                            in the LOA.
                          type: string
                      type: object
                    type: array
                  creationTimestamp:
                    description: '[Output Only] Creation timestamp in RFC3339 text
                      format.'
                    type: string
                  expectedOutages:
                    description: '[Output Only] A list of outages expected for this
                      Interconnect.'
                    items:
                      properties:
                        affectedCircuits:
                          description: If issue_type is IT_PARTIAL_OUTAGE, a list
                            of the Google-side circuit IDs that will be affected.
                          items:
                            type: string
                          type: array
                        description:
                          description: A description about the purpose of the outage.
                          type: string
                        endTime:
                          description: Scheduled end time for the outage (milliseconds
                            since Unix epoch).
                          format: int64
                          type: integer
                        issueType:
                          description: 'Form this outage is expected to take, which
                            can take one of the following values: - OUTAGE: The Interconnect
                            may be completely out of service for some or all of the
                            specified window. - PARTIAL_OUTAGE: Some circuits comprising
                            the Interconnect as a whole should remain up, but with
                            reduced bandwidth. Note that the versions of this enum
                            prefixed with "IT_" have been deprecated in favor of the
                            unprefixed values. Check the IssueType enum for the list
                            of possible values.'
                          type: string
                        name:
                          description: Unique identifier for this outage notification.
                          type: string
                        source:
                          description: 'The party that generated this notification,
                            which can take the following value: - GOOGLE: this notification
                            as generated by Google. Note that the value of NSRC_GOOGLE
                            has been deprecated in favor of GOOGLE. Check the Source
                            enum for the list of possible values.'
                          type: string
                        startTime:
                          description: Scheduled start time for the outage (milliseconds
                            since Unix epoch).
                          format: int64
                          type: integer
                        state:
                          description: 'State of this notification, which can take
                            one of the following values: - ACTIVE: This outage notification
                            is active. The event could be in the past, present, or
                            future. See start_time and end_time for scheduling. -
                            CANCELLED: The outage associated with this notification
                            was cancelled before the outage was due to start. - COMPLETED:
                            The outage associated with this notification is complete.
                            Note that the versions of this enum prefixed with "NS_"
                            have been deprecated in favor of the unprefixed values.
                            Check the State enum for the list of possible values.'
                          type: string
                      type: object
                    type: array
                  googleIPAddress:
                    description: '[Output Only] IP address configured on the Google
                      side of the Interconnect link. This can be used only for ping
                      tests.'
                    type: string
                  googleReferenceID:
                    description: '[Output Only] Google reference ID to be used when
                      raising support tickets with Google or otherwise to debug backend
                      connectivity issues.'
                    type: string
                  id:
                    description: '[Output Only] The unique identifier for the resource.
                      This identifier is defined by the server.'
                    format: int64
                    type: integer
                  interconnectAttachments:
                    description: '[Output Only] A list of the URLs of all InterconnectAttachments
                      configured to use this Interconnect.'
                    items:
                      type: string
                    type: array
                  kind:
                    description: '[Output Only] Type of the resource. Always compute#interconnect
                      for interconnects.'
                    type: string
                  operationalStatus:
                    description: '[Output Only] The current status of this Interconnect''s
                      functionality, which can take one of the following values: -
                      OS_ACTIVE: A valid Interconnect, which is turned up and is ready
                      to use. Attachments may be provisioned on this Interconnect.
                      - OS_UNPROVISIONED: An Interconnect that has not completed turnup.
                      No attachments may be provisioned on this Interconnect. - OS_UNDER_MAINTENANCE:
                      An Interconnect that is undergoing internal maintenance. No
                      attachments may be provisioned or updated on this Interconnect.
                      Check the OperationalStatus enum for the list of possible values.'
                    type: string
                  peerIPAddress:
                    description: '[Output Only] IP address configured on the customer
                      side of the Interconnect link. The customer should configure
                      this IP address during turnup when prompted by Google NOC. This
                      can be used only for ping tests.'
                    type: string
                  provisionedLinkCount:
                    description: '[Output Only] Number of links actually provisioned
                      in this interconnect.'
                    format: int32
                    type: integer
                  satisfiesPzs:
                    description: '[Output Only] Reserved for future use.'
                    type: boolean
                  selfLink:
                    description: '[Output Only] Server-defined URL for the resource.'
                    type: string
                  state:
                    description: '[Output Only] The current state of Interconnect
                      functionality, which can take one of the following values: -
                      ACTIVE: The Interconnect is valid, turned up and ready to use.
                      Attachments may be provisioned on this Interconnect. - UNPROVISIONED:
                      The Interconnect has not completed turnup. No attachments may
                      be provisioned on this Interconnect. - UNDER_MAINTENANCE: The
                      Interconnect is undergoing internal maintenance. No attachments
                      may be provisioned or updated on this Interconnect. Check the
                      State enum for the list of possible values.'
                    type: string
                type: object
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
