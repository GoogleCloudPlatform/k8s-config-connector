# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cnrm.cloud.google.com/version: 1.107.0
  creationTimestamp: null
  labels:
    cnrm.cloud.google.com/managed-by-kcc: "true"
    cnrm.cloud.google.com/stability-level: alpha
    cnrm.cloud.google.com/system: "true"
    cnrm.cloud.google.com/tf2crd: "true"
  name: dialogflowcxpages.dialogflowcx.cnrm.cloud.google.com
spec:
  group: dialogflowcx.cnrm.cloud.google.com
  names:
    categories:
    - gcp
    kind: DialogflowCXPage
    plural: dialogflowcxpages
    shortNames:
    - gcpdialogflowcxpage
    - gcpdialogflowcxpages
    singular: dialogflowcxpage
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - description: When 'True', the most recent reconcile of the resource succeeded
      jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: Ready
      type: string
    - description: The reason for the value in 'Ready'
      jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Status
      type: string
    - description: The last transition time for the value in 'Status'
      jsonPath: .status.conditions[?(@.type=='Ready')].lastTransitionTime
      name: Status Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: 'apiVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
            type: string
          kind:
            description: 'kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            properties:
              displayName:
                description: The human-readable name of the page, unique within the
                  agent.
                type: string
              entryFulfillment:
                description: The fulfillment to call when the session is entering
                  the page.
                properties:
                  messages:
                    description: The list of rich message responses to present to
                      the user.
                    items:
                      properties:
                        text:
                          description: The text response message.
                          properties:
                            allowPlaybackInterruption:
                              description: Whether the playback of this message can
                                be interrupted by the end user's speech and the client
                                can then starts the next Dialogflow request.
                              type: boolean
                            text:
                              description: A collection of text responses.
                              items:
                                type: string
                              type: array
                          type: object
                      type: object
                    type: array
                  returnPartialResponses:
                    description: 'Whether Dialogflow should return currently queued
                      fulfillment response messages in streaming APIs. If a webhook
                      is specified, it happens before Dialogflow invokes webhook.
                      Warning: 1) This flag only affects streaming API. Responses
                      are still queued and returned once in non-streaming API. 2)
                      The flag can be enabled in any fulfillment but only the first
                      3 partial responses will be returned. You may only want to apply
                      it to fulfillments that have slow webhooks.'
                    type: boolean
                  tag:
                    description: The tag used by the webhook to identify which fulfillment
                      is being called. This field is required if webhook is specified.
                    type: string
                  webhook:
                    description: 'The webhook to call. Format: projects/<Project ID>/locations/<Location
                      ID>/agents/<Agent ID>/webhooks/<Webhook ID>.'
                    type: string
                type: object
              eventHandlers:
                description: Handlers associated with the page to handle events such
                  as webhook errors, no match or no input.
                items:
                  properties:
                    event:
                      description: The name of the event to handle.
                      type: string
                    name:
                      description: The unique identifier of this event handler.
                      type: string
                    targetFlow:
                      description: |-
                        The target flow to transition to.
                        Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>.
                      type: string
                    targetPage:
                      description: |-
                        The target page to transition to.
                        Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>/pages/<Page ID>.
                      type: string
                    triggerFulfillment:
                      description: The fulfillment to call when the event occurs.
                        Handling webhook errors with a fulfillment enabled with webhook
                        could cause infinite loop. It is invalid to specify such fulfillment
                        for a handler handling webhooks.
                      properties:
                        messages:
                          description: The list of rich message responses to present
                            to the user.
                          items:
                            properties:
                              text:
                                description: The text response message.
                                properties:
                                  allowPlaybackInterruption:
                                    description: Whether the playback of this message
                                      can be interrupted by the end user's speech
                                      and the client can then starts the next Dialogflow
                                      request.
                                    type: boolean
                                  text:
                                    description: A collection of text responses.
                                    items:
                                      type: string
                                    type: array
                                type: object
                            type: object
                          type: array
                        returnPartialResponses:
                          description: 'Whether Dialogflow should return currently
                            queued fulfillment response messages in streaming APIs.
                            If a webhook is specified, it happens before Dialogflow
                            invokes webhook. Warning: 1) This flag only affects streaming
                            API. Responses are still queued and returned once in non-streaming
                            API. 2) The flag can be enabled in any fulfillment but
                            only the first 3 partial responses will be returned. You
                            may only want to apply it to fulfillments that have slow
                            webhooks.'
                          type: boolean
                        tag:
                          description: The tag used by the webhook to identify which
                            fulfillment is being called. This field is required if
                            webhook is specified.
                          type: string
                        webhook:
                          description: 'The webhook to call. Format: projects/<Project
                            ID>/locations/<Location ID>/agents/<Agent ID>/webhooks/<Webhook
                            ID>.'
                          type: string
                      type: object
                  type: object
                type: array
              form:
                description: The form associated with the page, used for collecting
                  parameters relevant to the page.
                properties:
                  parameters:
                    description: Parameters to collect from the user.
                    items:
                      properties:
                        displayName:
                          description: The human-readable name of the parameter, unique
                            within the form.
                          type: string
                        entityType:
                          description: |-
                            The entity type of the parameter.
                            Format: projects/-/locations/-/agents/-/entityTypes/<System Entity Type ID> for system entity types (for example, projects/-/locations/-/agents/-/entityTypes/sys.date), or projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/entityTypes/<Entity Type ID> for developer entity types.
                          type: string
                        fillBehavior:
                          description: Defines fill behavior for the parameter.
                          properties:
                            initialPromptFulfillment:
                              description: The fulfillment to provide the initial
                                prompt that the agent can present to the user in order
                                to fill the parameter.
                              properties:
                                messages:
                                  description: The list of rich message responses
                                    to present to the user.
                                  items:
                                    properties:
                                      text:
                                        description: The text response message.
                                        properties:
                                          allowPlaybackInterruption:
                                            description: Whether the playback of this
                                              message can be interrupted by the end
                                              user's speech and the client can then
                                              starts the next Dialogflow request.
                                            type: boolean
                                          text:
                                            description: A collection of text responses.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                    type: object
                                  type: array
                                returnPartialResponses:
                                  description: 'Whether Dialogflow should return currently
                                    queued fulfillment response messages in streaming
                                    APIs. If a webhook is specified, it happens before
                                    Dialogflow invokes webhook. Warning: 1) This flag
                                    only affects streaming API. Responses are still
                                    queued and returned once in non-streaming API.
                                    2) The flag can be enabled in any fulfillment
                                    but only the first 3 partial responses will be
                                    returned. You may only want to apply it to fulfillments
                                    that have slow webhooks.'
                                  type: boolean
                                tag:
                                  description: The tag used by the webhook to identify
                                    which fulfillment is being called. This field
                                    is required if webhook is specified.
                                  type: string
                                webhook:
                                  description: 'The webhook to call. Format: projects/<Project
                                    ID>/locations/<Location ID>/agents/<Agent ID>/webhooks/<Webhook
                                    ID>.'
                                  type: string
                              type: object
                          type: object
                        isList:
                          description: Indicates whether the parameter represents
                            a list of values.
                          type: boolean
                        redact:
                          description: |-
                            Indicates whether the parameter content should be redacted in log.
                            If redaction is enabled, the parameter content will be replaced by parameter name during logging. Note: the parameter content is subject to redaction if either parameter level redaction or entity type level redaction is enabled.
                          type: boolean
                        required:
                          description: |-
                            Indicates whether the parameter is required. Optional parameters will not trigger prompts; however, they are filled if the user specifies them.
                            Required parameters must be filled before form filling concludes.
                          type: boolean
                      type: object
                    type: array
                type: object
              languageCode:
                description: |-
                  Immutable. The language of the following fields in page:

                  Page.entry_fulfillment.messages
                  Page.entry_fulfillment.conditional_cases
                  Page.event_handlers.trigger_fulfillment.messages
                  Page.event_handlers.trigger_fulfillment.conditional_cases
                  Page.form.parameters.fill_behavior.initial_prompt_fulfillment.messages
                  Page.form.parameters.fill_behavior.initial_prompt_fulfillment.conditional_cases
                  Page.form.parameters.fill_behavior.reprompt_event_handlers.messages
                  Page.form.parameters.fill_behavior.reprompt_event_handlers.conditional_cases
                  Page.transition_routes.trigger_fulfillment.messages
                  Page.transition_routes.trigger_fulfillment.conditional_cases
                  If not specified, the agent's default language is used. Many languages are supported. Note: languages must be enabled in the agent before they can be used.
                type: string
              parent:
                description: |-
                  Immutable. The flow to create a page for.
                  Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>.
                type: string
              resourceID:
                description: Immutable. Optional. The service-generated name of the
                  resource. Used for acquisition only. Leave unset to create a new
                  resource.
                type: string
              transitionRouteGroups:
                description: |-
                  Ordered list of TransitionRouteGroups associated with the page. Transition route groups must be unique within a page.
                  If multiple transition routes within a page scope refer to the same intent, then the precedence order is: page's transition route -> page's transition route group -> flow's transition routes.
                  If multiple transition route groups within a page contain the same intent, then the first group in the ordered list takes precedence.
                  Format:projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>/transitionRouteGroups/<TransitionRouteGroup ID>.
                items:
                  type: string
                type: array
              transitionRoutes:
                description: |-
                  A list of transitions for the transition rules of this page. They route the conversation to another page in the same flow, or another flow.
                  When we are in a certain page, the TransitionRoutes are evalauted in the following order:
                  TransitionRoutes defined in the page with intent specified.
                  TransitionRoutes defined in the transition route groups with intent specified.
                  TransitionRoutes defined in flow with intent specified.
                  TransitionRoutes defined in the transition route groups with intent specified.
                  TransitionRoutes defined in the page with only condition specified.
                  TransitionRoutes defined in the transition route groups with only condition specified.
                items:
                  properties:
                    condition:
                      description: |-
                        The condition to evaluate against form parameters or session parameters.
                        At least one of intent or condition must be specified. When both intent and condition are specified, the transition can only happen when both are fulfilled.
                      type: string
                    intent:
                      description: |-
                        The unique identifier of an Intent.
                        Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/intents/<Intent ID>. Indicates that the transition can only happen when the given intent is matched. At least one of intent or condition must be specified. When both intent and condition are specified, the transition can only happen when both are fulfilled.
                      type: string
                    name:
                      description: The unique identifier of this transition route.
                      type: string
                    targetFlow:
                      description: |-
                        The target flow to transition to.
                        Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>.
                      type: string
                    targetPage:
                      description: |-
                        The target page to transition to.
                        Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>/pages/<Page ID>.
                      type: string
                    triggerFulfillment:
                      description: The fulfillment to call when the event occurs.
                        Handling webhook errors with a fulfillment enabled with webhook
                        could cause infinite loop. It is invalid to specify such fulfillment
                        for a handler handling webhooks.
                      properties:
                        messages:
                          description: The list of rich message responses to present
                            to the user.
                          items:
                            properties:
                              text:
                                description: The text response message.
                                properties:
                                  allowPlaybackInterruption:
                                    description: Whether the playback of this message
                                      can be interrupted by the end user's speech
                                      and the client can then starts the next Dialogflow
                                      request.
                                    type: boolean
                                  text:
                                    description: A collection of text responses.
                                    items:
                                      type: string
                                    type: array
                                type: object
                            type: object
                          type: array
                        returnPartialResponses:
                          description: 'Whether Dialogflow should return currently
                            queued fulfillment response messages in streaming APIs.
                            If a webhook is specified, it happens before Dialogflow
                            invokes webhook. Warning: 1) This flag only affects streaming
                            API. Responses are still queued and returned once in non-streaming
                            API. 2) The flag can be enabled in any fulfillment but
                            only the first 3 partial responses will be returned. You
                            may only want to apply it to fulfillments that have slow
                            webhooks.'
                          type: boolean
                        tag:
                          description: The tag used by the webhook to identify which
                            fulfillment is being called. This field is required if
                            webhook is specified.
                          type: string
                        webhook:
                          description: 'The webhook to call. Format: projects/<Project
                            ID>/locations/<Location ID>/agents/<Agent ID>/webhooks/<Webhook
                            ID>.'
                          type: string
                      type: object
                  type: object
                type: array
            required:
            - displayName
            type: object
          status:
            properties:
              conditions:
                description: Conditions represent the latest available observation
                  of the resource's current state.
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      type: string
                    message:
                      description: Human-readable message indicating details about
                        last transition.
                      type: string
                    reason:
                      description: Unique, one-word, CamelCase reason for the condition's
                        last transition.
                      type: string
                    status:
                      description: Status is the status of the condition. Can be True,
                        False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the condition.
                      type: string
                  type: object
                type: array
              name:
                description: |-
                  The unique identifier of the page.
                  Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/flows/<Flow ID>/pages/<Page ID>.
                type: string
              observedGeneration:
                description: ObservedGeneration is the generation of the resource
                  that was most recently observed by the Config Connector controller.
                  If this is equal to metadata.generation, then that means that the
                  current reported status reflects the most recent desired state of
                  the resource.
                type: integer
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
