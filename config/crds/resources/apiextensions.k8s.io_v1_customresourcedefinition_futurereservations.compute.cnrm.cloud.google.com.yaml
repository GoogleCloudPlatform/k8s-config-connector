apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cnrm.cloud.google.com/version: 0.0.0-dev
  creationTimestamp: null
  labels:
    cnrm.cloud.google.com/managed-by-kcc: "true"
    cnrm.cloud.google.com/system: "true"
  name: futurereservations.compute.cnrm.cloud.google.com
spec:
  group: compute.cnrm.cloud.google.com
  names:
    categories:
    - gcp
    kind: FutureReservation
    listKind: FutureReservationList
    plural: futurereservations
    shortNames:
    - gcpfuturereservation
    - gcpfuturereservations
    singular: futurereservation
  preserveUnknownFields: false
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - description: When 'True', the most recent reconcile of the resource succeeded
      jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: Ready
      type: string
    - description: The reason for the value in 'Ready'
      jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Status
      type: string
    - description: The last transition time for the value in 'Status'
      jsonPath: .status.conditions[?(@.type=='Ready')].lastTransitionTime
      name: Status Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: FutureReservation is the Schema for the FutureReservation API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: FutureReservationSpec defines the desired state of FutureReservation
            properties:
              aggregateReservation:
                description: Aggregate reservation details for the future reservation.
                properties:
                  inUseResources:
                    description: '[Output only] List of resources currently in use.'
                    items:
                      properties:
                        accelerator:
                          description: Properties of accelerator resources in this
                            reservation.
                          properties:
                            acceleratorCount:
                              description: Number of accelerators of specified type.
                              format: int32
                              type: integer
                            acceleratorType:
                              description: Full or partial URL to accelerator type.
                                e.g. "projects/{PROJECT}/zones/{ZONE}/acceleratorTypes/ct4l"
                              type: string
                          type: object
                      type: object
                    type: array
                  reservedResources:
                    description: List of reserved resources (CPUs, memory, accelerators).
                    items:
                      properties:
                        accelerator:
                          description: Properties of accelerator resources in this
                            reservation.
                          properties:
                            acceleratorCount:
                              description: Number of accelerators of specified type.
                              format: int32
                              type: integer
                            acceleratorType:
                              description: Full or partial URL to accelerator type.
                                e.g. "projects/{PROJECT}/zones/{ZONE}/acceleratorTypes/ct4l"
                              type: string
                          type: object
                      type: object
                    type: array
                  vmFamily:
                    description: The VM family that all instances scheduled against
                      this reservation must belong to. Check the VmFamily enum for
                      the list of possible values.
                    type: string
                  workloadType:
                    description: The workload type of the instances that will target
                      this reservation. Check the WorkloadType enum for the list of
                      possible values.
                    type: string
                type: object
              autoCreatedReservationsDeleteTime:
                description: Future timestamp when the FR auto-created reservations
                  will be deleted by Compute Engine. Format of this field must be
                  a valid href="https://www.ietf.org/rfc/rfc3339.txt">RFC3339 value.
                type: string
              autoCreatedReservationsDuration:
                description: Specifies the duration of auto-created reservations.
                  It represents relative time to future reservation start_time when
                  auto-created reservations will be automatically deleted by Compute
                  Engine. Duration time unit is represented as a count of seconds
                  and fractions of seconds at nanosecond resolution.
                properties:
                  nanos:
                    description: Span of time that's a fraction of a second at nanosecond
                      resolution. Durations less than one second are represented with
                      a 0 `seconds` field and a positive `nanos` field. Must be from
                      0 to 999,999,999 inclusive.
                    format: int32
                    type: integer
                  seconds:
                    description: 'Span of time at a resolution of a second. Must be
                      from 0 to 315,576,000,000 inclusive. Note: these bounds are
                      computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year
                      * 10000 years'
                    format: int64
                    type: integer
                type: object
              autoDeleteAutoCreatedReservations:
                description: Setting for enabling or disabling automatic deletion
                  for auto-created reservation. If set to true, auto-created reservations
                  will be deleted at Future Reservation's end time (default) or at
                  user's defined timestamp if any of the [auto_created_reservations_delete_time,
                  auto_created_reservations_duration] values is specified. For keeping
                  auto-created reservation indefinitely, this value should be set
                  to false.
                type: boolean
              commitmentInfo:
                description: If not present, then FR will not deliver a new commitment
                  or update an existing commitment.
                properties:
                  commitmentName:
                    description: name of the commitment where capacity is being delivered
                      to.
                    type: string
                  commitmentPlan:
                    description: Indicates if a Commitment needs to be created as
                      part of FR delivery. If this field is not present, then no commitment
                      needs to be created. Check the CommitmentPlan enum for the list
                      of possible values.
                    type: string
                  previousCommitmentTerms:
                    description: Only applicable if FR is delivering to the same reservation.
                      If set, all parent commitments will be extended to match the
                      end date of the plan for this commitment. Check the PreviousCommitmentTerms
                      enum for the list of possible values.
                    type: string
                type: object
              deploymentType:
                description: Type of the deployment requested as part of future reservation.
                  Check the DeploymentType enum for the list of possible values.
                type: string
              description:
                description: An optional description of this resource. Provide this
                  property when you create the future reservation.
                type: string
              enableEmergentMaintenance:
                description: Indicates if this group of VMs have emergent maintenance
                  enabled.
                type: boolean
              location:
                type: string
              name:
                description: The name of the resource, provided by the client when
                  initially creating the resource. The resource name must be 1-63
                  characters long, and comply with RFC1035. Specifically, the name
                  must be 1-63 characters long and match the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?`
                  which means the first character must be a lowercase letter, and
                  all following characters must be a dash, lowercase letter, or digit,
                  except the last character, which cannot be a dash.
                type: string
              namePrefix:
                description: Name prefix for the reservations to be created at the
                  time of delivery. The name prefix must comply with RFC1035. Maximum
                  allowed length for name prefix is 20. Automatically created reservations
                  name format will be -date-####.
                type: string
              planningStatus:
                description: Planning state before being submitted for evaluation
                  Check the PlanningStatus enum for the list of possible values.
                type: string
              projectRef:
                description: The Project that this resource belongs to.
                oneOf:
                - not:
                    required:
                    - external
                  required:
                  - name
                - not:
                    anyOf:
                    - required:
                      - name
                    - required:
                      - namespace
                  required:
                  - external
                properties:
                  external:
                    description: The `projectID` field of a project, when not managed
                      by Config Connector.
                    type: string
                  kind:
                    description: The kind of the Project resource; optional but must
                      be `Project` if provided.
                    type: string
                  name:
                    description: The `name` field of a `Project` resource.
                    type: string
                  namespace:
                    description: The `namespace` field of a `Project` resource.
                    type: string
                type: object
              reservationMode:
                description: The reservation mode which determines reservation-termination
                  behavior and expected pricing. Check the ReservationMode enum for
                  the list of possible values.
                type: string
              reservationName:
                description: Name of reservations where the capacity is provisioned
                  at the time of delivery of future reservations. If the reservation
                  with the given name does not exist already, it is created automatically
                  at the time of Approval with INACTIVE state till specified start-time.
                  Either provide the reservation_name or a name_prefix.
                type: string
              resourceID:
                description: The FutureReservation name. If not given, the metadata.name
                  will be used.
                type: string
              schedulingType:
                description: Maintenance information for this reservation Check the
                  SchedulingType enum for the list of possible values.
                type: string
              shareSettings:
                description: List of Projects/Folders to share with.
                properties:
                  projects:
                    description: A List of Project names to specify consumer projects
                      for this shared-reservation. This is only valid when share_type's
                      value is SPECIFIC_PROJECTS.
                    items:
                      type: string
                    type: array
                  shareType:
                    description: Type of sharing for this shared-reservation Check
                      the ShareType enum for the list of possible values.
                    type: string
                type: object
              specificReservationRequired:
                description: Indicates whether the auto-created reservation can be
                  consumed by VMs with affinity for "any" reservation. If the field
                  is set, then only VMs that target the reservation by name can consume
                  from the delivered reservation.
                type: boolean
              specificSkuProperties:
                description: Future Reservation configuration to indicate instance
                  properties and total count.
                properties:
                  instanceProperties:
                    description: Properties of the SKU instances being reserved.
                    properties:
                      guestAccelerators:
                        description: Specifies accelerator type and count.
                        items:
                          properties:
                            acceleratorCount:
                              description: The number of the guest accelerator cards
                                exposed to this instance.
                              format: int32
                              type: integer
                            acceleratorType:
                              description: 'Full or partial URL of the accelerator
                                type resource to attach to this instance. For example:
                                projects/my-project/zones/us-central1-c/acceleratorTypes/nvidia-tesla-p100
                                If you are creating an instance template, specify
                                only the accelerator name. See GPUs on Compute Engine
                                for a full list of accelerator types.'
                              type: string
                          type: object
                        type: array
                      localSsds:
                        description: Specifies amount of local ssd to reserve with
                          each instance. The type of disk is local-ssd.
                        items:
                          properties:
                            diskSizeGB:
                              description: Specifies the size of the disk in base-2
                                GB.
                              format: int64
                              type: integer
                            interface:
                              description: Specifies the disk interface to use for
                                attaching this disk, which is either SCSI or NVME.
                                The default is SCSI. For performance characteristics
                                of SCSI over NVMe, see Local SSD performance. Check
                                the Interface enum for the list of possible values.
                              type: string
                          type: object
                        type: array
                      locationHint:
                        description: An opaque location hint used to place the allocation
                          close to other resources. This field is for use by internal
                          tools that use the public API.
                        type: string
                      machineType:
                        description: Specifies type of machine (name only) which has
                          fixed number of vCPUs and fixed amount of memory. This also
                          includes specifying custom machine type following custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY
                          pattern.
                        type: string
                      maintenanceFreezeDurationHours:
                        description: Specifies the number of hours after reservation
                          creation where instances using the reservation won't be
                          scheduled for maintenance.
                        format: int32
                        type: integer
                      maintenanceInterval:
                        description: 'Specifies the frequency of planned maintenance
                          events. The accepted values are: `PERIODIC`. Check the MaintenanceInterval
                          enum for the list of possible values.'
                        type: string
                      minCPUPlatform:
                        description: Minimum cpu platform the reservation.
                        type: string
                    type: object
                  sourceInstanceTemplate:
                    description: The instance template that will be used to populate
                      the ReservedInstanceProperties of the future reservation
                    type: string
                  totalCount:
                    description: Total number of instances for which capacity assurance
                      is requested at a future time period.
                    format: int64
                    type: integer
                type: object
              timeWindow:
                description: Time window for this Future Reservation.
                properties:
                  duration:
                    properties:
                      nanos:
                        description: Span of time that's a fraction of a second at
                          nanosecond resolution. Durations less than one second are
                          represented with a 0 `seconds` field and a positive `nanos`
                          field. Must be from 0 to 999,999,999 inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: 'Span of time at a resolution of a second. Must
                          be from 0 to 315,576,000,000 inclusive. Note: these bounds
                          are computed from: 60 sec/min * 60 min/hr * 24 hr/day *
                          365.25 days/year * 10000 years'
                        format: int64
                        type: integer
                    type: object
                  endTime:
                    type: string
                  startTime:
                    description: Start time of the Future Reservation. The start_time
                      is an RFC3339 string.
                    type: string
                type: object
            required:
            - location
            - projectRef
            type: object
          status:
            description: FutureReservationStatus defines the config connector machine
              state of FutureReservation
            properties:
              conditions:
                description: Conditions represent the latest available observations
                  of the object's current state.
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      type: string
                    message:
                      description: Human-readable message indicating details about
                        last transition.
                      type: string
                    reason:
                      description: Unique, one-word, CamelCase reason for the condition's
                        last transition.
                      type: string
                    status:
                      description: Status is the status of the condition. Can be True,
                        False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the condition.
                      type: string
                  type: object
                type: array
              externalRef:
                description: A unique specifier for the FutureReservation resource
                  in GCP.
                type: string
              observedGeneration:
                description: ObservedGeneration is the generation of the resource
                  that was most recently observed by the Config Connector controller.
                  If this is equal to metadata.generation, then that means that the
                  current reported status reflects the most recent desired state of
                  the resource.
                format: int64
                type: integer
              observedState:
                description: ObservedState is the state of the resource as most recently
                  observed in GCP.
                properties:
                  amendmentStatus:
                    description: '[Output Only] The current status of the requested
                      amendment. Check the AmendmentStatus enum for the list of possible
                      values.'
                    type: string
                  autoCreatedReservations:
                    description: Fully qualified urls of the automatically created
                      reservations at start_time.
                    items:
                      type: string
                    type: array
                  creationTimestamp:
                    description: '[Output Only] The creation timestamp for this future
                      reservation in RFC3339 text format.'
                    type: string
                  existingMatchingUsageInfo:
                    description: '[Output Only] Represents the existing matching usage
                      for the future reservation.'
                    properties:
                      count:
                        description: Count to represent min(FR total_count, matching_reserved_capacity+matching_unreserved_instances)
                        format: int64
                        type: integer
                      timestamp:
                        description: Timestamp when the matching usage was calculated
                        type: string
                    type: object
                  fulfilledCount:
                    description: This count indicates the fulfilled capacity so far.
                      This is set during "PROVISIONING" state. This count also includes
                      capacity delivered as part of existing matching reservations.
                    format: int64
                    type: integer
                  id:
                    description: '[Output Only] A unique identifier for this future
                      reservation. The server defines this identifier.'
                    format: int64
                    type: integer
                  kind:
                    description: '[Output Only] Type of the resource. Always compute#futureReservation
                      for future reservations.'
                    type: string
                  lastKnownGoodState:
                    description: '[Output Only] This field represents the future reservation
                      before an amendment was requested. If the amendment is declined,
                      the Future Reservation will be reverted to the last known good
                      state. The last known good state is not set when updating a
                      future reservation whose Procurement Status is DRAFTING.'
                    properties:
                      description:
                        description: '[Output Only] The description of the FutureReservation
                          before an amendment was requested.'
                        type: string
                      existingMatchingUsageInfo:
                        description: '[Output Only] Represents the matching usage
                          for the future reservation before an amendment was requested.'
                        properties:
                          count:
                            description: Count to represent min(FR total_count, matching_reserved_capacity+matching_unreserved_instances)
                            format: int64
                            type: integer
                          timestamp:
                            description: Timestamp when the matching usage was calculated
                            type: string
                        type: object
                      futureReservationSpecs:
                        properties:
                          shareSettings:
                            description: '[Output Only] The previous share settings
                              of the Future Reservation.'
                            properties:
                              projects:
                                description: A List of Project names to specify consumer
                                  projects for this shared-reservation. This is only
                                  valid when share_type's value is SPECIFIC_PROJECTS.
                                items:
                                  type: string
                                type: array
                              shareType:
                                description: Type of sharing for this shared-reservation
                                  Check the ShareType enum for the list of possible
                                  values.
                                type: string
                            type: object
                          specificSkuProperties:
                            description: '[Output Only] The previous instance related
                              properties of the Future Reservation.'
                            properties:
                              instanceProperties:
                                description: Properties of the SKU instances being
                                  reserved.
                                properties:
                                  guestAccelerators:
                                    description: Specifies accelerator type and count.
                                    items:
                                      properties:
                                        acceleratorCount:
                                          description: The number of the guest accelerator
                                            cards exposed to this instance.
                                          format: int32
                                          type: integer
                                        acceleratorType:
                                          description: 'Full or partial URL of the
                                            accelerator type resource to attach to
                                            this instance. For example: projects/my-project/zones/us-central1-c/acceleratorTypes/nvidia-tesla-p100
                                            If you are creating an instance template,
                                            specify only the accelerator name. See
                                            GPUs on Compute Engine for a full list
                                            of accelerator types.'
                                          type: string
                                      type: object
                                    type: array
                                  localSsds:
                                    description: Specifies amount of local ssd to
                                      reserve with each instance. The type of disk
                                      is local-ssd.
                                    items:
                                      properties:
                                        diskSizeGB:
                                          description: Specifies the size of the disk
                                            in base-2 GB.
                                          format: int64
                                          type: integer
                                        interface:
                                          description: Specifies the disk interface
                                            to use for attaching this disk, which
                                            is either SCSI or NVME. The default is
                                            SCSI. For performance characteristics
                                            of SCSI over NVMe, see Local SSD performance.
                                            Check the Interface enum for the list
                                            of possible values.
                                          type: string
                                      type: object
                                    type: array
                                  locationHint:
                                    description: An opaque location hint used to place
                                      the allocation close to other resources. This
                                      field is for use by internal tools that use
                                      the public API.
                                    type: string
                                  machineType:
                                    description: Specifies type of machine (name only)
                                      which has fixed number of vCPUs and fixed amount
                                      of memory. This also includes specifying custom
                                      machine type following custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY
                                      pattern.
                                    type: string
                                  maintenanceFreezeDurationHours:
                                    description: Specifies the number of hours after
                                      reservation creation where instances using the
                                      reservation won't be scheduled for maintenance.
                                    format: int32
                                    type: integer
                                  maintenanceInterval:
                                    description: 'Specifies the frequency of planned
                                      maintenance events. The accepted values are:
                                      `PERIODIC`. Check the MaintenanceInterval enum
                                      for the list of possible values.'
                                    type: string
                                  minCPUPlatform:
                                    description: Minimum cpu platform the reservation.
                                    type: string
                                type: object
                              sourceInstanceTemplate:
                                description: The instance template that will be used
                                  to populate the ReservedInstanceProperties of the
                                  future reservation
                                type: string
                              totalCount:
                                description: Total number of instances for which capacity
                                  assurance is requested at a future time period.
                                format: int64
                                type: integer
                            type: object
                          timeWindow:
                            description: '[Output Only] The previous time window of
                              the Future Reservation.'
                            properties:
                              duration:
                                properties:
                                  nanos:
                                    description: Span of time that's a fraction of
                                      a second at nanosecond resolution. Durations
                                      less than one second are represented with a
                                      0 `seconds` field and a positive `nanos` field.
                                      Must be from 0 to 999,999,999 inclusive.
                                    format: int32
                                    type: integer
                                  seconds:
                                    description: 'Span of time at a resolution of
                                      a second. Must be from 0 to 315,576,000,000
                                      inclusive. Note: these bounds are computed from:
                                      60 sec/min * 60 min/hr * 24 hr/day * 365.25
                                      days/year * 10000 years'
                                    format: int64
                                    type: integer
                                type: object
                              endTime:
                                type: string
                              startTime:
                                description: Start time of the Future Reservation.
                                  The start_time is an RFC3339 string.
                                type: string
                            type: object
                        type: object
                      lockTime:
                        description: '[Output Only] The lock time of the FutureReservation
                          before an amendment was requested.'
                        type: string
                      namePrefix:
                        description: '[Output Only] The name prefix of the Future
                          Reservation before an amendment was requested.'
                        type: string
                      procurementStatus:
                        description: '[Output Only] The status of the last known good
                          state for the Future Reservation. Check the ProcurementStatus
                          enum for the list of possible values.'
                        type: string
                    type: object
                  lockTime:
                    description: Time when Future Reservation would become LOCKED,
                      after which no modifications to Future Reservation will be allowed.
                      Applicable only after the Future Reservation is in the APPROVED
                      state. The lock_time is an RFC3339 string. The procurement_status
                      will transition to PROCURING state at this time.
                    type: string
                  procurementStatus:
                    description: Current state of this Future Reservation Check the
                      ProcurementStatus enum for the list of possible values.
                    type: string
                  selfLink:
                    description: '[Output Only] Server-defined fully-qualified URL
                      for this resource.'
                    type: string
                  selfLinkWithID:
                    description: '[Output Only] Server-defined URL for this resource
                      with the resource id.'
                    type: string
                  specificSkuProperties:
                    properties:
                      sourceInstanceTemplateID:
                        description: ID of the instance template used to populate
                          the Future Reservation properties.
                        type: string
                    type: object
                  zone:
                    description: '[Output Only] URL of the Zone where this future
                      reservation resides.'
                    type: string
                type: object
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
