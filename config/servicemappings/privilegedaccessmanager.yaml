apiVersion: core.cnrm.cloud.google.com/v1alpha1
kind: ServiceMapping
metadata:
  name: privilegedaccessmanager.cnrm.cloud.google.com
  namespace: cnrm-system
spec:
  name: PrivilegedAccessManager
  version: v1beta1
  serviceHostName: "privilegedaccessmanager.googleapis.com"
  resources:
    - name: google_privileged_access_manager_entitlement
      kind: PrivilegedAccessManagerEntitlement
      resourceId:
        targetField: name
      idTemplate: "{{parent}}/locations/{{location}}/entitlements/{{name}}"
      idTemplateCanBeUsedToMatchResourceName: true
      metadataMapping:
        name: entitlement_id
        labels: labels