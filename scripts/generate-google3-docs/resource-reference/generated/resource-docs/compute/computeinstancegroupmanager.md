{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}ComputeInstanceGroupManager{% endblock %}
{% block body %}


<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Compute Engine</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/compute/docs/">/compute/docs/</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>beta.instanceGroupManagers</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/compute/docs/reference/rest/beta/instanceGroupManagers">/compute/docs/reference/rest/beta/instanceGroupManagers</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpcomputeinstancegroupmanager<br>gcpcomputeinstancegroupmanagers<br>computeinstancegroupmanager</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>compute.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>computeinstancegroupmanagers.compute.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


<tr>
<td>{{product_name_short}} Default Average Reconcile Interval In Seconds</td>
<td>600</td>
</tr>
</tbody>
</table>

## Custom Resource Definition Properties



### Spec
#### Schema
```yaml
autoHealingPolicies:
- healthCheckRef:
    external: string
    name: string
    namespace: string
  initialDelaySec: integer
baseInstanceName: string
description: string
distributionPolicy:
  targetShape: string
  zones:
  - zone: string
failoverAction: string
instanceTemplateRef:
  external: string
  name: string
  namespace: string
location: string
namedPorts:
- name: string
  port: integer
projectRef:
  external: string
  name: string
  namespace: string
resourceID: string
serviceAccountRef:
  external: string
  name: string
  namespace: string
statefulPolicy:
  preservedState:
    disks:
      string: object
    externalIps:
      string: object
    internalIps:
      string: object
targetPools:
- external: string
  name: string
  namespace: string
targetSize: integer
updatePolicy:
  instanceRedistributionType: string
  maxSurge:
    fixed: integer
    percent: integer
  maxUnavailable:
    fixed: integer
    percent: integer
  minReadySec: integer
  minimalAction: string
  mostDisruptiveAllowedAction: string
  replacementMethod: string
  type: string
versions:
- instanceTemplateRef:
    external: string
    name: string
    namespace: string
  name: string
  targetSize:
    calculated: integer
    fixed: integer
    percent: integer
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>autoHealingPolicies</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}The autohealing policy for this managed instance group. You can specify only one value.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[].healthCheckRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[].healthCheckRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The URL for the health check that signals autohealing.

Allowed value: The `selfLink` field of a `ComputeHealthCheck` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[].healthCheckRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[].healthCheckRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>autoHealingPolicies[].initialDelaySec</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}The number of seconds that the managed instance group waits before it applies autohealing policies to new instances or recently recreated instances. This initial delay allows instances to initialize and run their startup scripts before the instance group determines that they are UNHEALTHY. This prevents the managed instance group from recreating its instances prematurely. This value must be from range [0, 3600].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>baseInstanceName</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The base instance name to use for instances in this group. The value must be 1-58 characters long. Instances are named by appending a hyphen and a random four-character string to the base instance name. The base instance name must comply with [RFC1035](https://www.ietf.org/rfc/rfc1035.txt).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>description</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. An optional description of this resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>distributionPolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Policy specifying the intended distribution of managed instances across zones in a regional managed instance group.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>distributionPolicy.targetShape</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The distribution shape to which the group converges either proactively or on resize events (depending on the value set in `updatePolicy.instanceRedistributionType`). Possible values: TARGET_SHAPE_UNSPECIFIED, ANY, BALANCED, ANY_SINGLE_ZONE{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>distributionPolicy.zones</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Immutable. Zones where the regional managed instance group will create and manage its instances.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>distributionPolicy.zones[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>distributionPolicy.zones[].zone</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The URL of the [zone](/compute/docs/regions-zones/#available). The zone must exist in the region where the managed instance group is located.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>failoverAction</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The action to perform in case of zone failure. Only one value is supported, `NO_FAILOVER`. The default is `NO_FAILOVER`. Possible values: UNKNOWN, NO_FAILOVER{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceTemplateRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceTemplateRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The URL of the instance template that is specified for this managed instance group. The group uses this template to create all new instances in the managed instance group. The templates for existing instances in the group do not change unless you run `recreateInstances`, run `applyUpdatesToInstances`, or set the group's `updatePolicy.type` to `PROACTIVE`.

Allowed value: The `selfLink` field of a `ComputeInstanceTemplate` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceTemplateRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceTemplateRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>location</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The location of this resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>namedPorts</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Immutable. Named ports configured for the Instance Groups complementary to this Instance Group Manager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>namedPorts[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>namedPorts[].name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The name for this named port. The name must be 1-63 characters long, and comply with [RFC1035](https://www.ietf.org/rfc/rfc1035.txt).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>namedPorts[].port</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. The port number, which can be a value between 1 and 65535.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. The Project that this resource belongs to.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The project for the resource

Allowed value: The Google Cloud resource name of a `Project` resource (format: `projects/{{name}}`).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Optional. The name of the resource. Used for creation and acquisition. When unset, the value of `metadata.name` is used as the default.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The service account to be used as credentials for all operations performed by the managed instance group on instances. The service accounts needs all permissions required to create and delete instances. By default, the service account: {projectNumber}@cloudservices.gserviceaccount.com is used.

Allowed value: The `email` field of an `IAMServiceAccount` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>statefulPolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Stateful configuration for this Instanced Group Manager{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>statefulPolicy.preservedState</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>statefulPolicy.preservedState.disks</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: object)</code></p>
            <p>{% verbatim %}Disks created on the instances that will be preserved on instance delete, update, etc. This map is keyed with the device names of the disks.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>statefulPolicy.preservedState.externalIps</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: object)</code></p>
            <p>{% verbatim %}External network IPs assigned to the instances that will be preserved on instance delete, update, etc. This map is keyed with the network interface name.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>statefulPolicy.preservedState.internalIps</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: object)</code></p>
            <p>{% verbatim %}Internal network IPs assigned to the instances that will be preserved on instance delete, update, etc. This map is keyed with the network interface name.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetPools</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetPools[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetPools[].external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Allowed value: The `selfLink` field of a `ComputeTargetPool` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetPools[].name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetPools[].namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>targetSize</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}The target number of running instances for this managed instance group. You can reduce this number by using the instanceGroupManager deleteInstances or abandonInstances methods. Resizing the group also changes this number.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The update policy for this managed instance group.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.instanceRedistributionType</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The [instance redistribution policy](/compute/docs/instance-groups/regional-migs#proactive_instance_redistribution) for regional managed instance groups. Valid values are: - `PROACTIVE` (default): The group attempts to maintain an even distribution of VM instances across zones in the region. - `NONE`: For non-autoscaled groups, proactive redistribution is disabled.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxSurge</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The maximum number of instances that can be created above the specified `targetSize` during the update process. This value can be either a fixed number or, if the group has 10 or more instances, a percentage. If you set a percentage, the number of instances is rounded if necessary. The default value for `maxSurge` is a fixed value equal to the number of zones in which the managed instance group operates. At least one of either `maxSurge` or `maxUnavailable` must be greater than 0. Learn more about [`maxSurge`](/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups#max_surge).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxSurge.fixed</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a fixed number of VM instances. This must be a positive integer.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxSurge.percent</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a percentage of instances between 0 to 100%, inclusive. For example, specify `80` for 80%.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxUnavailable</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The maximum number of instances that can be unavailable during the update process. An instance is considered available if all of the following conditions are satisfied: - The instance's [status](/compute/docs/instances/checking-instance-status) is `RUNNING`. - If there is a [health check](/compute/docs/instance-groups/autohealing-instances-in-migs) on the instance group, the instance's health check status must be `HEALTHY` at least once. If there is no health check on the group, then the instance only needs to have a status of `RUNNING` to be considered available. This value can be either a fixed number or, if the group has 10 or more instances, a percentage. If you set a percentage, the number of instances is rounded if necessary. The default value for `maxUnavailable` is a fixed value equal to the number of zones in which the managed instance group operates. At least one of either `maxSurge` or `maxUnavailable` must be greater than 0. Learn more about [`maxUnavailable`](/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups#max_unavailable).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxUnavailable.fixed</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a fixed number of VM instances. This must be a positive integer.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.maxUnavailable.percent</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a percentage of instances between 0 to 100%, inclusive. For example, specify `80` for 80%.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.minReadySec</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Minimum number of seconds to wait for after a newly created instance becomes available. This value must be from range [0, 3600].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.minimalAction</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Minimal action to be taken on an instance. You can specify either `RESTART` to restart existing instances or `REPLACE` to delete and create new instances from the target template. If you specify a `RESTART`, the Updater will attempt to perform that action only. However, if the Updater determines that the minimal action you specify is not enough to perform the update, it might perform a more disruptive action.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.mostDisruptiveAllowedAction</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Most disruptive action that is allowed to be taken on an instance. You can specify either `NONE` to forbid any actions, `REFRESH` to allow actions that do not need instance restart, `RESTART` to allow actions that can be applied without instance replacing or `REPLACE` to allow all possible actions. If the Updater determines that the minimal update action needed is more disruptive than most disruptive allowed action you specify it will not perform the update at all.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.replacementMethod</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}What action should be used to replace instances. See minimal_action.REPLACE Possible values: SUBSTITUTE, RECREATE{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>updatePolicy.type</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The type of update process. You can specify either `PROACTIVE` so that the instance group manager proactively executes actions in order to bring instances to their target versions or `OPPORTUNISTIC` so that no action is proactively executed but the update will be performed as part of other actions (for example, resizes or `recreateInstances` calls).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Specifies the instance templates used by this managed instance group to create instances. Each version is defined by an `instanceTemplate` and a `name`. Every version can appear at most once per instance group. This field overrides the top-level `instanceTemplate` field. Read more about the [relationships between these fields](/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups#relationship_between_versions_and_instancetemplate_properties_for_a_managed_instance_group). Exactly one `version` must leave the `targetSize` field unset. That version will be applied to all remaining instances. For more information, read about [canary updates](/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups#starting_a_canary_update).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].instanceTemplateRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].instanceTemplateRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The URL of the instance template that is specified for this managed instance group. The group uses this template to create new instances in the managed instance group until the `targetSize` for this version is reached. The templates for existing instances in the group do not change unless you run `recreateInstances`, run `applyUpdatesToInstances`, or set the group's `updatePolicy.type` to `PROACTIVE`; in those cases, existing instances are updated until the `targetSize` for this version is reached.

Allowed value: The `selfLink` field of a `ComputeInstanceTemplate` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].instanceTemplateRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].instanceTemplateRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the version. Unique among all versions in the scope of this managed instance group.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].targetSize</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Specifies the intended number of instances to be created from the `instanceTemplate`. The final number of instances created from the template will be equal to: - If expressed as a fixed number, the minimum of either `targetSize.fixed` or `instanceGroupManager.targetSize` is used. - if expressed as a `percent`, the `targetSize` would be `(targetSize.percent/100 * InstanceGroupManager.targetSize)` If there is a remainder, the number is rounded. If unset, this version will update any remaining instances not updated by another `version`. Read [Starting a canary update](/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups#starting_a_canary_update) for more information.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].targetSize.calculated</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] Absolute value of VM instances calculated based on the specific mode. - If the value is `fixed`, then the `calculated` value is equal to the `fixed` value. - If the value is a `percent`, then the `calculated` value is `percent`/100 * `targetSize`. For example, the `calculated` value of a 80% of a managed instance group with 150 instances would be (80/100 * 150) = 120 VM instances. If there is a remainder, the number is rounded.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].targetSize.fixed</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a fixed number of VM instances. This must be a positive integer.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versions[].targetSize.percent</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Specifies a percentage of instances between 0 to 100%, inclusive. For example, specify `80` for 80%.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>



### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
creationTimestamp: string
currentActions:
  abandoning: integer
  creating: integer
  creatingWithoutRetries: integer
  deleting: integer
  none: integer
  recreating: integer
  refreshing: integer
  restarting: integer
  verifying: integer
fingerprint: string
id: integer
instanceGroup: string
observedGeneration: integer
region: string
selfLink: string
status:
  autoscaler: string
  isStable: boolean
  stateful:
    hasStatefulConfig: boolean
    isStateful: boolean
    perInstanceConfigs:
      allEffective: boolean
  versionTarget:
    isReached: boolean
updatePolicy:
  maxSurge:
    calculated: integer
  maxUnavailable:
    calculated: integer
zone: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observation of the resource's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>creationTimestamp</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The creation timestamp for this managed instance group in \[RFC3339\](https://www.ietf.org/rfc/rfc3339.txt) text format.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}[Output Only] The list of instance actions and the number of instances in this managed instance group that are scheduled for each of those actions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.abandoning</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The total number of instances in the managed instance group that are scheduled to be abandoned. Abandoning an instance removes it from the managed instance group without deleting it.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.creating</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are scheduled to be created or are currently being created. If the group fails to create any of these instances, it tries again until it creates the instance successfully. If you have disabled creation retries, this field will not be populated; instead, the `creatingWithoutRetries` field will be populated.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.creatingWithoutRetries</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances that the managed instance group will attempt to create. The group attempts to create each instance only once. If the group fails to create any of these instances, it decreases the group's `targetSize` value accordingly.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.deleting</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are scheduled to be deleted or are currently being deleted.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.none</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are running and have no scheduled actions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.recreating</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are scheduled to be recreated or are currently being being recreated. Recreating an instance deletes the existing root persistent disk and creates a new disk from the image that is defined in the instance template.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.refreshing</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are being reconfigured with properties that do not require a restart or a recreate action. For example, setting or removing target pools for the instance.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.restarting</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are scheduled to be restarted or are currently being restarted.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>currentActions.verifying</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] The number of instances in the managed instance group that are being verified. See the `managedInstances[].currentAction` property in the `listManagedInstances` method documentation.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>fingerprint</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Fingerprint of this resource. This field may be used in optimistic locking. It will be ignored when inserting an InstanceGroupManager. An up-to-date fingerprint must be provided in order to update the InstanceGroupManager, otherwise the request will fail with error `412 conditionNotMet`. To see the latest fingerprint, make a `get()` request to retrieve an InstanceGroupManager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>id</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] A unique identifier for this resource type. The server generates this identifier.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>instanceGroup</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[Output Only] The URL of the Instance Group resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>region</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[Output Only] The URL of the [region](/compute/docs/regions-zones/#available) where the managed instance group resides (for regional resources).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>selfLink</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[Output Only] The URL for this managed instance group. The server defines this URL.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}[Output Only] The status of this managed instance group.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.autoscaler</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[Output Only] The URL of the [Autoscaler](/compute/docs/autoscaler/) that targets this instance group manager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.isStable</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}[Output Only] A bit indicating whether the managed instance group is in a stable state. A stable state means that: none of the instances in the managed instance group is currently undergoing any type of change (for example, creation, restart, or deletion); no future changes are scheduled for instances in the managed instance group; and the managed instance group itself is not being modified.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.stateful</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}[Output Only] Stateful status of the given Instance Group Manager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.stateful.hasStatefulConfig</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}[Output Only] A bit indicating whether the managed instance group has stateful configuration, that is, if you have configured any items in a stateful policy or in per-instance configs. The group might report that it has no stateful config even when there is still some preserved state on a managed instance, for example, if you have deleted all PICs but not yet applied those deletions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.stateful.isStateful</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}[Output Only] A bit indicating whether the managed instance group has stateful configuration, that is, if you have configured any items in a stateful policy or in per-instance configs. The group might report that it has no stateful config even when there is still some preserved state on a managed instance, for example, if you have deleted all PICs but not yet applied those deletions. This field is deprecated in favor of has_stateful_config.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.stateful.perInstanceConfigs</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}[Output Only] Status of per-instance configs on the instance.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.stateful.perInstanceConfigs.allEffective</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}A bit indicating if all of the group's per-instance configs (listed in the output of a listPerInstanceConfigs API call) have status `EFFECTIVE` or there are no per-instance-configs.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.versionTarget</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}[Output Only] A status of consistency of Instances' versions with their target version specified by `version` field on Instance Group Manager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>status.versionTarget.isReached</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}[Output Only] A bit indicating whether version target has been reached in this managed instance group, i.e. all instances are in their target version. Instances' target version are specified by `version` field on Instance Group Manager.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>updatePolicy</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>updatePolicy.maxSurge</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>updatePolicy.maxSurge.calculated</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] Absolute value of VM instances calculated based on the specific mode. - If the value is `fixed`, then the `calculated` value is equal to the `fixed` value. - If the value is a `percent`, then the `calculated` value is `percent`/100 * `targetSize`. For example, the `calculated` value of a 80% of a managed instance group with 150 instances would be (80/100 * 150) = 120 VM instances. If there is a remainder, the number is rounded.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>updatePolicy.maxUnavailable</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>updatePolicy.maxUnavailable.calculated</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}[Output Only] Absolute value of VM instances calculated based on the specific mode. - If the value is `fixed`, then the `calculated` value is equal to the `fixed` value. - If the value is a `percent`, then the `calculated` value is `percent`/100 * `targetSize`. For example, the `calculated` value of a 80% of a managed instance group with 150 instances would be (80/100 * 150) = 120 VM instances. If there is a remainder, the number is rounded.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>zone</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[Output Only] The URL of a [zone](/compute/docs/regions-zones/#available) where the managed instance group is located (for zonal resources).{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Regional Compute Instance Group Manager
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeInstanceGroupManager
metadata:
  name: computeinstancegroupmanager-sample-regional
spec:
  projectRef:
     # Replace ${PROJECT_ID?} with your project ID
     external: "projects/${PROJECT_ID?}"
  location: us-central1
  baseInstanceName: app
  autoHealingPolicies:
    - healthCheckRef:
        name: computeinstancegroupmanager-dep-regional
      initialDelaySec: 300
  targetSize: 3
  instanceTemplateRef:
    name: computeinstancegroupmanager-dep-regional
  updatePolicy:
    instanceRedistributionType: PROACTIVE
    minimalAction: RESTART
    maxSurge:
      fixed: 3
    maxUnavailable:
      fixed: 3
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeHealthCheck
metadata:
  name: computeinstancegroupmanager-dep-regional
spec:
  httpHealthCheck:
    port: 80
  location: global
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeInstanceTemplate
metadata:
  name: computeinstancegroupmanager-dep-regional
spec:
  machineType: n1-standard-1
  disk:
  - sourceImageRef:
      external: debian-cloud/debian-11
    boot: true
  networkInterface:
  - networkRef:
      name: computeinstancegroupmanager-dep-regional
    subnetworkRef:
      name: computeinstancegroupmanager-dep-regional
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeNetwork
metadata:
  name: computeinstancegroupmanager-dep-regional
spec:
  routingMode: REGIONAL
  autoCreateSubnetworks: false
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeSubnetwork
metadata:
  name: computeinstancegroupmanager-dep-regional
spec:
  ipCidrRange: 10.2.0.0/16
  region: us-central1
  privateIpGoogleAccess: false
  networkRef:
    name: computeinstancegroupmanager-dep-regional
```

### Zonal Compute Instance Group Manager
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeInstanceGroupManager
metadata:
  name: computeinstancegroupmanager-sample-zonal
spec:
  projectRef:
     # Replace ${PROJECT_ID?} with your project ID
     external: "projects/${PROJECT_ID?}"
  location: us-central1-a
  baseInstanceName: app
  autoHealingPolicies:
    - healthCheckRef:
        name: computeinstancegroupmanager-dep-zonal
      initialDelaySec: 300
  targetSize: 3
  instanceTemplateRef:
    name: computeinstancegroupmanager-dep-zonal
  updatePolicy:
    minimalAction: RESTART
    maxSurge:
      fixed: 3
    maxUnavailable:
      fixed: 3
  statefulPolicy:
    preservedState:
      disks:
        disk-a:
          autoDelete: "ON_PERMANENT_INSTANCE_DELETION"
        disk-b:
          autoDelete: "NEVER"
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeHealthCheck
metadata:
  name: computeinstancegroupmanager-dep-zonal
spec:
  httpHealthCheck:
    port: 80
  location: global
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeInstanceTemplate
metadata:
  name: computeinstancegroupmanager-dep-zonal
spec:
  machineType: n1-standard-1
  disk:
  - sourceImageRef:
      external: debian-cloud/debian-11
    boot: true
  - deviceName: disk-a
    sourceImageRef:
      external: debian-cloud/debian-11
    autoDelete: true
    boot: false
  - deviceName: disk-b
    sourceImageRef:
      external: debian-cloud/debian-11
    boot: false
  networkInterface:
  - networkRef:
      name: computeinstancegroupmanager-dep-zonal
    subnetworkRef:
      name: computeinstancegroupmanager-dep-zonal
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeNetwork
metadata:
  name: computeinstancegroupmanager-dep-zonal
spec:
  routingMode: REGIONAL
  autoCreateSubnetworks: false
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeSubnetwork
metadata:
  name: computeinstancegroupmanager-dep-zonal
spec:
  ipCidrRange: 10.2.0.0/16
  region: us-central1
  privateIpGoogleAccess: false
  networkRef:
    name: computeinstancegroupmanager-dep-zonal
```


Note: If you have any trouble with instantiating the resource, refer to <a href="/config-connector/docs/troubleshooting">Troubleshoot Config Connector</a>.

{% endblock %}
