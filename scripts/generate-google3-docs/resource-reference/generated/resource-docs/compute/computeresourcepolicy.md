{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}ComputeResourcePolicy{% endblock %}
{% block body %}


<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Compute Engine</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/compute/docs/">/compute/docs/</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1.resourcePolicies</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/compute/docs/reference/rest/v1/resourcePolicies">/compute/docs/reference/rest/v1/resourcePolicies</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Name</td>
<td>gcpcomputeresourcepolicy<br>gcpcomputeresourcepolicies<br>computeresourcepolicy</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>computeresourcepolicies.compute.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


</tbody>
</table>

## Custom Resource Definition Properties


### Annotations
<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>cnrm.cloud.google.com/project-id</code></td>
    </tr>
    <tr>
        <td><code>cnrm.cloud.google.com/state-into-spec</code></td>
    </tr>
</tbody>
</table>


### Spec
#### Schema
```yaml
description: string
groupPlacementPolicy:
  availabilityDomainCount: integer
  collocation: string
  vmCount: integer
instanceSchedulePolicy:
  expirationTime: string
  startTime: string
  timeZone: string
  vmStartSchedule:
    schedule: string
  vmStopSchedule:
    schedule: string
region: string
resourceID: string
snapshotSchedulePolicy:
  retentionPolicy:
    maxRetentionDays: integer
    onSourceDiskDelete: string
  schedule:
    dailySchedule:
      daysInCycle: integer
      startTime: string
    hourlySchedule:
      hoursInCycle: integer
      startTime: string
    weeklySchedule:
      dayOfWeeks:
      - day: string
        startTime: string
  snapshotProperties:
    chainName: string
    guestFlush: boolean
    labels:
      string: string
    storageLocations:
    - string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>description</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. An optional description of this resource. Provide this property when you create the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>groupPlacementPolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Resource policy for instances used for placement configuration.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>groupPlacementPolicy.availabilityDomainCount</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. The number of availability domains instances will be spread across. If two instances are in different
availability domain, they will not be put in the same low latency network.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>groupPlacementPolicy.collocation</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Collocation specifies whether to place VMs inside the same availability domain on the same low-latency network.
Specify &#39;COLLOCATED&#39; to enable collocation. Can only be specified with &#39;vm_count&#39;. If compute instances are created
with a COLLOCATED policy, then exactly &#39;vm_count&#39; instances must be created at the same time with the resource policy
attached. Possible values: [&#34;COLLOCATED&#34;].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>groupPlacementPolicy.vmCount</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. Number of VMs in this placement group. Google does not recommend that you use this field
unless you use a compact policy and you want your policy to work only if it contains this
exact number of VMs.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Resource policy for scheduling instance operations.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.expirationTime</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The expiration time of the schedule. The timestamp is an RFC3339 string.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.startTime</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The start time of the schedule. The timestamp is an RFC3339 string.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.timeZone</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Specifies the time zone to be used in interpreting the schedule. The value of this field must be a time zone name
from the tz database: http://en.wikipedia.org/wiki/Tz_database.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.vmStartSchedule</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Specifies the schedule for starting instances.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.vmStartSchedule.schedule</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Specifies the frequency for the operation, using the unix-cron format.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.vmStopSchedule</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Specifies the schedule for stopping instances.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>instanceSchedulePolicy.vmStopSchedule.schedule</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Specifies the frequency for the operation, using the unix-cron format.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>region</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Region where resource policy resides.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Optional. The name of the resource. Used for creation and acquisition. When unset, the value of `metadata.name` is used as the default.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Policy for creating snapshots of persistent disks.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.retentionPolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Retention policy applied to snapshots created by this resource policy.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.retentionPolicy.maxRetentionDays</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. Maximum age of the snapshot that is allowed to be kept.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.retentionPolicy.onSourceDiskDelete</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Specifies the behavior to apply to scheduled snapshots when
the source disk is deleted. Default value: &#34;KEEP_AUTO_SNAPSHOTS&#34; Possible values: [&#34;KEEP_AUTO_SNAPSHOTS&#34;, &#34;APPLY_RETENTION_POLICY&#34;].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Contains one of an &#39;hourlySchedule&#39;, &#39;dailySchedule&#39;, or &#39;weeklySchedule&#39;.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.dailySchedule</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. The policy will execute every nth day at the specified time.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.dailySchedule.daysInCycle</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. The number of days between snapshots.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.dailySchedule.startTime</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. This must be in UTC format that resolves to one of
00:00, 04:00, 08:00, 12:00, 16:00, or 20:00. For example,
both 13:00-5 and 08:00 are valid.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.hourlySchedule</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. The policy will execute every nth hour starting at the specified time.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.hourlySchedule.hoursInCycle</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Immutable. The number of hours between snapshots.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.hourlySchedule.startTime</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Time within the window to start the operations.
It must be in an hourly format &#34;HH:MM&#34;,
where HH : [00-23] and MM : [00] GMT.
eg: 21:00.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.weeklySchedule</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Allows specifying a snapshot time for each day of the week.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.weeklySchedule.dayOfWeeks</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Immutable. May contain up to seven (one for each day of the week) snapshot times.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.weeklySchedule.dayOfWeeks[]</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.weeklySchedule.dayOfWeeks[].day</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The day of the week to create the snapshot. e.g. MONDAY Possible values: [&#34;MONDAY&#34;, &#34;TUESDAY&#34;, &#34;WEDNESDAY&#34;, &#34;THURSDAY&#34;, &#34;FRIDAY&#34;, &#34;SATURDAY&#34;, &#34;SUNDAY&#34;].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.schedule.weeklySchedule.dayOfWeeks[].startTime</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Time within the window to start the operations.
It must be in format &#34;HH:MM&#34;, where HH : [00-23] and MM : [00-00] GMT.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. Properties with which the snapshots are created, such as labels.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties.chainName</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Creates the new snapshot in the snapshot chain labeled with the 
specified name. The chain name must be 1-63 characters long and comply 
with RFC1035.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties.guestFlush</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Immutable. Whether to perform a &#39;guest aware&#39; snapshot.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties.labels</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Immutable. A set of key-value pairs.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties.storageLocations</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (string)</code></p>
            <p>{% verbatim %}Immutable. Cloud Storage bucket location to store the auto snapshot
(regional or multi-regional).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>snapshotSchedulePolicy.snapshotProperties.storageLocations[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>


<p>{% verbatim %}* Field is required when parent field is specified{% endverbatim %}</p>


### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
observedGeneration: integer
selfLink: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observation of the resource&#39;s current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition&#39;s last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>selfLink</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Daily Resource Policy Schedule
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeResourcePolicy
metadata:
  name: computeresourcepolicy-sample-dailyschedule
spec:
  region: us-central1
  snapshotSchedulePolicy:
    schedule:
      dailySchedule:
        daysInCycle: 1
        startTime: &#34;00:00&#34;
    retentionPolicy:
      maxRetentionDays: 8
      onSourceDiskDelete: KEEP_AUTO_SNAPSHOTS
    snapshotProperties:
      storageLocations:
      - us-central1
      guestFlush: true
      labels:
        autodeleted: &#34;false&#34;
        interval: &#34;daily&#34;
```

### Hourly Resource Policy Schedule
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeResourcePolicy
metadata:
  name: computeresourcepolicy-sample-hourlyschedule
spec:
  region: us-central1
  snapshotSchedulePolicy:
    schedule:
      hourlySchedule:
        hoursInCycle: 4
        startTime: &#34;13:00&#34;
    retentionPolicy:
      maxRetentionDays: 2
      onSourceDiskDelete: APPLY_RETENTION_POLICY
    snapshotProperties:
      labels:
        autodeleted: &#34;true&#34;
        interval: &#34;hourly&#34;
```

### Weekly Resource Policy Schedule
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeResourcePolicy
metadata:
  name: computeresourcepolicy-sample-weeklyschedule
spec:
  region: us-central1
  snapshotSchedulePolicy:
    schedule:
      weeklySchedule:
        dayOfWeeks:
        - startTime: &#34;08:00&#34;
          day: MONDAY
        - startTime: &#34;15:00&#34;
          day: WEDNESDAY
        - startTime: &#34;23:00&#34;
          day: FRIDAY
    retentionPolicy:
      maxRetentionDays: 12
    snapshotProperties:
      storageLocations:
      - us
      guestFlush: false
      labels:
        autodeleted: &#34;false&#34;
        interval: &#34;weekly&#34;
```


{% endblock %}