{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}WorkflowsWorkflow{% endblock %}
{% block body %}



Workflows provides low latency custom orchestration of services.

<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Workflows</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/workflows/docs/">/workflows/docs</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1.projects.locations.workflows</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/workflows/docs/reference/rest/v1/projects.locations.workflows">/workflows/docs/reference/rest/v1/projects.locations.workflows</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpworkflowsworkflow<br>gcpworkflowsworkflows<br>workflowsworkflow</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>workflows.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>workflowsworkflows.workflows.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


<tr>
<td>{{product_name_short}} Default Average Reconcile Interval In Seconds</td>
<td>600</td>
</tr>
</tbody>
</table>

## Custom Resource Definition Properties



### Spec
#### Schema
```yaml
callLogLevel: string
description: string
executionHistoryLevel: string
kmsCryptoKeyRef:
  external: string
  name: string
  namespace: string
labels:
  string: string
location: string
projectRef:
  external: string
  kind: string
  name: string
  namespace: string
resourceID: string
serviceAccountRef:
  external: string
  name: string
  namespace: string
sourceContents: string
tags:
  string: string
userEnvVars:
  string: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>callLogLevel</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Describes the level of platform logging to apply to calls and call responses during executions of this workflow. If both the workflow and the execution specify a logging level, the execution level takes precedence.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>description</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Description of the workflow provided by the user. Must be at most 1000 unicode characters long.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>executionHistoryLevel</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Describes the execution history level to apply to this workflow.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>kmsCryptoKeyRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Optional. The resource name of a KMS crypto key used to encrypt or decrypt the data associated with the workflow. If not provided, data associated with the workflow will not be CMEK-encrypted.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>kmsCryptoKeyRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed KMSCryptoKey. Should be in the format `projects/[kms_project_id]/locations/[region]/keyRings/[key_ring_id]/cryptoKeys/[key]`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>kmsCryptoKeyRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>kmsCryptoKeyRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>labels</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Labels associated with this workflow. Labels can contain at most 64 entries. Keys and values can be no longer than 63 characters and can only contain lowercase letters, numeric characters, underscores, and dashes. Label keys must start with a letter. International characters are allowed.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>location</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The Project that this resource belongs to.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `projectID` field of a project, when not managed by Config Connector.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.kind</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The kind of the Project resource; optional but must be `Project` if provided.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` field of a `Project` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` field of a `Project` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The Workflow name. If not given, the metadata.name will be used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The service account associated with the latest workflow version. This service account represents the identity of the workflow and determines what permissions the workflow has. If not provided, workflow will use the project's default service account. Modifying this field for an existing workflow results in a new workflow revision.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `email` field of an `IAMServiceAccount` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>serviceAccountRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>sourceContents</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Required. Workflow code to be executed. The size limit is 128KB.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>tags</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Optional. Input only. Immutable. Tags associated with this workflow.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>userEnvVars</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Optional.User-defined environment variables associated with this workflow revision. This map has a maximum length of 20. Each string can take up to 40KiB. Keys cannot be empty strings and cannot start with “GOOGLE” or “WORKFLOWS".{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>



### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
externalRef: string
observedGeneration: integer
observedState:
  allKmsKeys:
  - external: string
    name: string
    namespace: string
  allKmsKeysVersions:
  - string
  createTime: string
  cryptoKeyVersion: string
  revisionCreateTime: string
  revisionId: string
  state: string
  stateError:
    details: string
    type: string
  updateTime: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observations of the object's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>externalRef</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A unique specifier for the Workflow resource in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}ObservedState is the state of the resource as most recently observed in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeys</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Output only. A list of all KMS crypto keys used to encrypt or decrypt the data associated with the workflow.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeys[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeys[].external</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed KMSCryptoKey. Should be in the format `projects/[kms_project_id]/locations/[region]/keyRings/[key_ring_id]/cryptoKeys/[key]`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeys[].name</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeys[].namespace</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeysVersions</code></td>
        <td>
            <p><code class="apitype">list (string)</code></p>
            <p>{% verbatim %}Output only. A list of all KMS crypto key versions used to encrypt or decrypt the data associated with the workflow.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.allKmsKeysVersions[]</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.createTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The timestamp for when the workflow was created.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.cryptoKeyVersion</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Output only. The resource name of a KMS crypto key version used to encrypt or decrypt the data associated with the workflow.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.revisionCreateTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The timestamp for the latest revision of the workflow's creation.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.revisionId</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The revision of the workflow. A new revision of a workflow is created as a result of updating the following properties of a workflow: - service_account - source_content The format is "000001-a4d", where the first six characters define the zero-padded revision ordinal number. They are followed by a hyphen and three hexadecimal random characters.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.state</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}State of the workflow deployment.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.stateError</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Error regarding the state of the workflow. For example, this field will have error details if the execution data is unavailable due to revoked KMS key permissions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.stateError.details</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Provides specifics about the error.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.stateError.type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The type of this state error.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.updateTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The timestamp for when the workflow was last updated.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Typical Use Case
```yaml
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: workflowsworkflow-dep
spec:
  memberFrom:
    serviceIdentityRef:
      name: workflowsworkflow-dep
  role: roles/cloudkms.cryptoKeyEncrypterDecrypter
  resourceRef:
    apiVersion: kms.cnrm.cloud.google.com/v1beta1
    kind: KMSCryptoKey
    name: workflowsworkflow-dep
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMServiceAccount
metadata:
  name: workflowsworkflow-dep
---
apiVersion: kms.cnrm.cloud.google.com/v1beta1
kind: KMSCryptoKey
metadata:
  name: workflowsworkflow-dep
spec:
  keyRingRef:
    name: workflowsworkflow-dep
---
apiVersion: kms.cnrm.cloud.google.com/v1beta1
kind: KMSKeyRing
metadata:
  name: workflowsworkflow-dep
spec:
  location: us-central1
---
apiVersion: serviceusage.cnrm.cloud.google.com/v1beta1
kind: ServiceIdentity
metadata:
  name: workflowsworkflow-dep
spec:
  projectRef:
    external: ${PROJECT_ID?}
  resourceID: workflows.googleapis.com
---
apiVersion: workflows.cnrm.cloud.google.com/v1beta1
kind: WorkflowsWorkflow
metadata:
  name: workflow-sample
spec:
  # Can be one of "LOG_ALL_CALLS", "LOG_ERRORS_ONLY", "LOG_ERRORS_ONLY", "CALL_LOG_LEVEL_UNSPECIFIED". Consult documentation for more info
  callLogLevel: "LOG_ALL_CALLS"
  description: "Definition of a workflow that reads and returns a supplied environment variable, managing data with a cryptography key and access with a service account"
  # Can be one of "EXECUTION_HISTORY_LEVEL_UNSPECIFIED", "EXECUTION_HISTORY_BASIC", "EXECUTION_HISTORY_DETAILED". Consult documentation for more info
  executionHistoryLevel: "EXECUTION_HISTORY_DETAILED"
  kmsCryptoKeyRef:
    name: workflowsworkflow-dep
  labels:
    category1: "label1"
    category2: "label2"
  location: us-central1
  projectRef:
    # Replace ${PROJECT_ID?} with your project ID
    external: ${PROJECT_ID?}
  # If unspecified, metadata.name will be used
  resourceID: workflow-sample
  serviceAccountRef:
    name: workflowsworkflow-dep
  sourceContents: "main:\n  params: [input]\n  steps:\n    - getLocation:\n        call: sys.get_env\n        args:\n          name: var1\n        result: inputVar\n    - returnOutput:\n        return: '${inputVar}'\n"
  userEnvVars:
    var1: variable_value
    var2: variable_value2
```


Note: If you have any trouble with instantiating the resource, refer to <a href="/config-connector/docs/troubleshooting">Troubleshoot Config Connector</a>.

{% endblock %}