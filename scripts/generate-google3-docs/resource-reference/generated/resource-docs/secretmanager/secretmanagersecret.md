{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}SecretManagerSecret{% endblock %}
{% block body %}


<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Secret Manager</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/secret-manager/docs/">/secret-manager/docs/</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1.projects.secrets</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/secret-manager/docs/reference/rest/v1/projects.secrets">/secret-manager/docs/reference/rest/v1/projects.secrets</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpsecretmanagersecret<br>gcpsecretmanagersecrets<br>secretmanagersecret</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>secretmanager.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>secretmanagersecrets.secretmanager.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>Yes</td>
</tr>

<tr>
    <td>Supports IAM Conditions</td>
    <td>No</td>
</tr>

<tr>
    <td>Supports IAM Audit Configs</td>
    <td>No</td>
</tr>
<tr>
    <td>IAM External Reference Format</td>
    <td>
        
        <p>{% verbatim %}projects/{{project}}/secrets/{{secret_id}}{% endverbatim %}</p>
        
    </td>
</tr>


<tr>
<td>{{product_name_short}} Default Average Reconcile Interval In Seconds</td>
<td>600</td>
</tr>
</tbody>
</table>

## Prerequisites

Before you can use this resource, assign the Secret Manager Admin role
(roles/secretmanager.admin) on the project, folder, or organization. The
required permission ‘secretmanager.versions.access’ is included in this role.

## Custom Resource Definition Properties


### Annotations
<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>cnrm.cloud.google.com/project-id</code></td>
    </tr>
</tbody>
</table>


### Spec
#### Schema
```yaml
annotations:
  string: string
expireTime: string
labels:
  string: string
replication:
  auto:
    customerManagedEncryption:
      kmsKeyRef:
        external: string
        name: string
        namespace: string
  automatic: boolean
  userManaged:
    replicas:
    - customerManagedEncryption:
        kmsKeyRef:
          external: string
          name: string
          namespace: string
      location: string
resourceID: string
rotation:
  nextRotationTime: string
  rotationPeriod: string
topics:
- topicRef:
    external: string
    name: string
    namespace: string
ttl: string
versionAliases:
  string: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>annotations</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Optional. Custom metadata about the secret.

 Annotations are distinct from various forms of labels.
 Annotations exist to allow client tools to store their own state
 information without requiring a database.

 Annotation keys must be between 1 and 63 characters long, have a UTF-8
 encoding of maximum 128 bytes, begin and end with an alphanumeric character
 ([a-z0-9A-Z]), and may have dashes (-), underscores (_), dots (.), and
 alphanumerics in between these symbols.

 The total size of annotation keys and values must be less than 16KiB.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>expireTime</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Timestamp in UTC when the [Secret][google.cloud.secretmanager.v1.Secret] is scheduled to expire. This is always provided on output, regardless of what was sent on input.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>labels</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}The labels assigned to this Secret.

Label keys must be between 1 and 63 characters long, have a UTF-8 encoding
of maximum 128 bytes, and must conform to the following PCRE regular
expression: `[\p{Ll}\p{Lo}][\p{Ll}\p{Lo}\p{N}_-]{0,62}`

Label values must be between 0 and 63 characters long, have a UTF-8
encoding of maximum 128 bytes, and must conform to the following PCRE
regular expression: `[\p{Ll}\p{Lo}\p{N}_-]{0,63}`

No more than 64 labels can be assigned to a given resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Optional. Immutable. The replication policy of the secret data attached to
 the [Secret][google.cloud.secretmanager.v1.Secret].

 The replication policy cannot be changed after the Secret has been created.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The [Secret][google.cloud.secretmanager.v1.Secret] will automatically be replicated without any restrictions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto.customerManagedEncryption</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Optional. The customer-managed encryption configuration of the
 [Secret][google.cloud.secretmanager.v1.Secret]. If no configuration is
 provided, Google-managed default encryption is used.

 Updates to the [Secret][google.cloud.secretmanager.v1.Secret] encryption
 configuration only apply to
 [SecretVersions][google.cloud.secretmanager.v1.SecretVersion] added
 afterwards. They do not apply retroactively to existing
 [SecretVersions][google.cloud.secretmanager.v1.SecretVersion].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto.customerManagedEncryption.kmsKeyRef</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Required. The resource name of the Cloud KMS CryptoKey used to encrypt
 secret payloads.

 For secrets using the
 [UserManaged][google.cloud.secretmanager.v1.Replication.UserManaged]
 replication policy type, Cloud KMS CryptoKeys must reside in the same
 location as the [replica location][Secret.UserManaged.Replica.location].

 For secrets using the
 [Automatic][google.cloud.secretmanager.v1.Replication.Automatic]
 replication policy type, Cloud KMS CryptoKeys must reside in `global`.

 The expected format is `projects/*/locations/*/keyRings/*/cryptoKeys/*`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto.customerManagedEncryption.kmsKeyRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed KMSCryptoKey. Should be in the format `projects/[kms_project_id]/locations/[region]/keyRings/[key_ring_id]/cryptoKeys/[key]`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto.customerManagedEncryption.kmsKeyRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.auto.customerManagedEncryption.kmsKeyRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.automatic</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}The Secret will automatically be replicated without any restrictions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The [Secret][google.cloud.secretmanager.v1.Secret] will only be replicated into the locations specified.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Required. The list of Replicas for this
 [Secret][google.cloud.secretmanager.v1.Secret].

 Cannot be empty.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[]</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].customerManagedEncryption</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Optional. The customer-managed encryption configuration of the
 [User-Managed Replica][Replication.UserManaged.Replica]. If no
 configuration is provided, Google-managed default encryption is used.

 Updates to the [Secret][google.cloud.secretmanager.v1.Secret]
 encryption configuration only apply to
 [SecretVersions][google.cloud.secretmanager.v1.SecretVersion] added
 afterwards. They do not apply retroactively to existing
 [SecretVersions][google.cloud.secretmanager.v1.SecretVersion].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].customerManagedEncryption.kmsKeyRef</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Required. The resource name of the Cloud KMS CryptoKey used to encrypt
 secret payloads.

 For secrets using the
 [UserManaged][google.cloud.secretmanager.v1.Replication.UserManaged]
 replication policy type, Cloud KMS CryptoKeys must reside in the same
 location as the [replica location][Secret.UserManaged.Replica.location].

 For secrets using the
 [Automatic][google.cloud.secretmanager.v1.Replication.Automatic]
 replication policy type, Cloud KMS CryptoKeys must reside in `global`.

 The expected format is `projects/*/locations/*/keyRings/*/cryptoKeys/*`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].customerManagedEncryption.kmsKeyRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed KMSCryptoKey. Should be in the format `projects/[kms_project_id]/locations/[region]/keyRings/[key_ring_id]/cryptoKeys/[key]`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].customerManagedEncryption.kmsKeyRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].customerManagedEncryption.kmsKeyRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` of a `KMSCryptoKey` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>replication.userManaged.replicas[].location</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The canonical IDs of the location to replicate data. For example: `"us-east1"`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The SecretManagerSecret name. If not given, the metadata.name will be used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>rotation</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Optional. Rotation policy attached to the [Secret][google.cloud.secretmanager.v1.Secret]. May be excluded if there is no rotation policy.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>rotation.nextRotationTime</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Timestamp in UTC at which the
 [Secret][google.cloud.secretmanager.v1.Secret] is scheduled to rotate.
 Cannot be set to less than 300s (5 min) in the future and at most
 3153600000s (100 years).

 [next_rotation_time][google.cloud.secretmanager.v1.Rotation.next_rotation_time]
 MUST  be set if
 [rotation_period][google.cloud.secretmanager.v1.Rotation.rotation_period]
 is set.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>rotation.rotationPeriod</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Input only. The Duration between rotation notifications. Must be in seconds
 and at least 3600s (1h) and at most 3153600000s (100 years).

 If
 [rotation_period][google.cloud.secretmanager.v1.Rotation.rotation_period]
 is set,
 [next_rotation_time][google.cloud.secretmanager.v1.Rotation.next_rotation_time]
 must be set.
 [next_rotation_time][google.cloud.secretmanager.v1.Rotation.next_rotation_time]
 will be advanced by this period when the service automatically sends
 rotation notifications.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Optional. A list of up to 10 Pub/Sub topics to which messages are published when control plane operations are called on the secret or its versions.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics[].topicRef</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}PubSubTopicRef defines the resource reference to PubSubTopic, which "External" field holds the GCP identifier for the KRM object.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics[].topicRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed PubSubTopic resource. Should be in the format "projects/{{projectID}}/topics/{{topicID}}".{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics[].topicRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The name of a PubSubTopic resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>topics[].topicRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The namespace of a PubSubTopic resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>ttl</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Input only. A duration in seconds with up to nine fractional digits, ending with 's'. Example: "3.5s".{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>versionAliases</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}Optional. Mapping from version alias to version name.

 A version alias is a string with a maximum length of 63 characters and can
 contain uppercase and lowercase letters, numerals, and the hyphen (`-`)
 and underscore ('_') characters. An alias string must start with a
 letter and cannot be the string 'latest' or 'NEW'.
 No more than 50 aliases can be assigned to a given secret.

 Version-Alias pairs will be viewable via GetSecret and modifiable via
 UpdateSecret. Access by alias is only be supported on
 GetSecretVersion and AccessSecretVersion.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>


<p>* Field is required when parent field is specified</p>


### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
externalRef: string
name: string
observedGeneration: integer
observedState:
  versionAliases:
    string: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observations of the object's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>externalRef</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A unique specifier for the SecretManagerSecret resource in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>name</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}[DEPRECATED] Please read from `.status.externalRef` instead. Config Connector will remove the `.status.name` in v1 Version.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}ObservedState is the state of the resource as most recently observed in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.versionAliases</code></td>
        <td>
            <p><code class="apitype">map (key: string, value: string)</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Automatic Secret Replication
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: secretmanager.cnrm.cloud.google.com/v1beta1
kind: SecretManagerSecret
metadata:
  name: secretmanagersecret-sample-automatic
  labels:
    replication-type: automatic
spec:
  replication:
    automatic: true
```

### User Managed Secret Replication
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: secretmanager.cnrm.cloud.google.com/v1beta1
kind: SecretManagerSecret
metadata:
  name: secretmanagersecret-sample-usermanaged
  labels:
    replication-type: user-managed
spec:
  replication:
    userManaged:
      replicas:
      - location: us-central1
      - location: us-east1
```


Note: If you have any trouble with instantiating the resource, refer to <a href="/config-connector/docs/troubleshooting">Troubleshoot Config Connector</a>.

{% endblock %}