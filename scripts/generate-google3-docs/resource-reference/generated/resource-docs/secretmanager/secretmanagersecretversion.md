{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}SecretManagerSecretVersion{% endblock %}
{% block body %}


<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Secret Manager</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/secret-manager/docs/">/secret-manager/docs/</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1.projects.secrets.versions</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/secret-manager/docs/reference/rest/v1/projects.secrets.versions">/secret-manager/docs/reference/rest/v1/projects.secrets.versions</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpsecretmanagersecretversion<br>gcpsecretmanagersecretversions<br>secretmanagersecretversion</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>secretmanager.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>secretmanagersecretversions.secretmanager.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


<tr>
<td>{{product_name_short}} Default Average Reconcile Interval In Seconds</td>
<td>600</td>
</tr>
</tbody>
</table>

## Custom Resource Definition Properties



### Spec
#### Schema
```yaml
deletionPolicy: string
enabled: boolean
isSecretDataBase64: boolean
resourceID: string
secretData:
  value: string
  valueFrom:
    secretKeyRef:
      key: string
      name: string
secretRef:
  external: string
  name: string
  namespace: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>deletionPolicy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}DEPRECATED. You do not need to set this field in direct reconciler mode. Use delete-policy annotation instead. https://cloud.google.com/config-connector/docs/how-to/managing-deleting-resources#keeping_resources_after_deletion The deletion policy for the secret version. Setting 'ABANDON' allows the resource to be abandoned rather than deleted. Setting 'DISABLE' allows the resource to be disabled rather than deleted. Default is 'DELETE'. Possible values are: * DELETE * DISABLE * ABANDON.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>enabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Should enable or disable the current SecretVersion. - Enabled version can be accessed and described. - Disabled version cannot be accessed, but the secret's contents still exist{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>isSecretDataBase64</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}DEPRECATED. You do not need to set this field in direct reconciler mode.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The SecretVersion number. If given, Config Connector acquires the resource from the Secret Manager service. If not given, Config Connector adds a new secret versionÂ to the GCP service, and you can find out the version number from `status.observedState.version`{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The actual secret data. Config Connector supports secret data stored in Kubernetes secret or plain data (base64){% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData.value</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Value of the field. Cannot be used if 'valueFrom' is specified.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData.valueFrom</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Source for the field's value. Cannot be used if 'value' is specified.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData.valueFrom.secretKeyRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Reference to a value with the given key in the given Secret in the resource's namespace.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData.valueFrom.secretKeyRef.key</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Key that identifies the value to be extracted.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretData.valueFrom.secretKeyRef.name</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the Secret to extract a value from.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The resource name of the [Secret][google.cloud.secretmanager.v1.Secret] to create a [SecretVersion][google.cloud.secretmanager.v1.SecretVersion] for.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A reference to an externally managed SecretManagerSecret resource. Should be in the format "projects/{{projectID}}/secrets/{{secretID}}".{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The name of a SecretManagerSecret resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>secretRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The namespace of a SecretManagerSecret resource.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>


<p>* Field is required when parent field is specified</p>


### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
createTime: string
destroyTime: string
externalRef: string
name: string
observedGeneration: integer
observedState:
  clientSpecifiedPayloadChecksum: boolean
  createTime: string
  customerManagedEncryption:
    kmsKeyVersionName: string
  destroyTime: string
  name: string
  replicationStatus:
    automatic:
      customerManagedEncryption:
        kmsKeyVersionName: string
    userManaged:
      replicas:
      - customerManagedEncryption:
          kmsKeyVersionName: string
        location: string
  scheduledDestroyTime: string
version: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observations of the object's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>createTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}DEPRECATING NOTE: Please use status.observedState.createTime instead.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>destroyTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}DEPRECATING NOTE: Please use status.observedState.destroyTime instead.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>externalRef</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A unique specifier for the SecretManagerSecretVersion resource in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>name</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}DEPRECATING NOTE: Please use status.observedState.name instead.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}ObservedState is the state of the resource as most recently observed in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.clientSpecifiedPayloadChecksum</code></td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Output only. True if payload checksum specified in [SecretPayload][google.cloud.secretmanager.v1.SecretPayload] object has been received by [SecretManagerService][google.cloud.secretmanager.v1.SecretManagerService] on [SecretManagerService.AddSecretVersion][google.cloud.secretmanager.v1.SecretManagerService.AddSecretVersion].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.createTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Output only. The time at which the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion] was created.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.customerManagedEncryption</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Output only. The customer-managed encryption status of the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion]. Only populated if customer-managed encryption is used and [Secret][google.cloud.secretmanager.v1.Secret] is a Regionalised Secret.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.customerManagedEncryption.kmsKeyVersionName</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Required. The resource name of the Cloud KMS CryptoKeyVersion used to encrypt the secret payload, in the following format: `projects/*/locations/*/keyRings/*/cryptoKeys/*/versions/*`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.destroyTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Output only. The time this [SecretVersion][google.cloud.secretmanager.v1.SecretVersion] was destroyed. Only present if [state][google.cloud.secretmanager.v1.SecretVersion.state] is [DESTROYED][google.cloud.secretmanager.v1.SecretVersion.State.DESTROYED].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.name</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Output only. The resource name of the
[SecretVersion][google.cloud.secretmanager.v1.SecretVersion] in the
format `projects/*/secrets/*/versions/*`.

[SecretVersion][google.cloud.secretmanager.v1.SecretVersion] IDs in a
[Secret][google.cloud.secretmanager.v1.Secret] start at 1 and are
incremented for each subsequent version of the secret.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The replication status of the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.automatic</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Describes the replication status of a
 [SecretVersion][google.cloud.secretmanager.v1.SecretVersion] with
 automatic replication.

 Only populated if the parent
 [Secret][google.cloud.secretmanager.v1.Secret] has an automatic
 replication policy.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.automatic.customerManagedEncryption</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Output only. The customer-managed encryption status of the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion]. Only populated if customer-managed encryption is used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.automatic.customerManagedEncryption.kmsKeyVersionName</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Required. The resource name of the Cloud KMS CryptoKeyVersion used to encrypt the secret payload, in the following format: `projects/*/locations/*/keyRings/*/cryptoKeys/*/versions/*`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Describes the replication status of a
 [SecretVersion][google.cloud.secretmanager.v1.SecretVersion] with
 user-managed replication.

 Only populated if the parent
 [Secret][google.cloud.secretmanager.v1.Secret] has a user-managed
 replication policy.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged.replicas</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Output only. The list of replica statuses for the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion].{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged.replicas[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged.replicas[].customerManagedEncryption</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Output only. The customer-managed encryption status of the [SecretVersion][google.cloud.secretmanager.v1.SecretVersion]. Only populated if customer-managed encryption is used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged.replicas[].customerManagedEncryption.kmsKeyVersionName</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Required. The resource name of the Cloud KMS CryptoKeyVersion used to encrypt the secret payload, in the following format: `projects/*/locations/*/keyRings/*/cryptoKeys/*/versions/*`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.replicationStatus.userManaged.replicas[].location</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Output only. The canonical ID of the replica location. For example: `"us-east1"`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.scheduledDestroyTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Output only. Scheduled destroy time for secret version. This is a part of the Delayed secret version destroy feature. For a Secret with a valid version destroy TTL, when a secert version is destroyed, the version is moved to disabled state and it is scheduled for destruction. The version is destroyed only after the `scheduled_destroy_time`.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>version</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}DEPRECATED.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Typical Use Case
```yaml
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: secretmanager.cnrm.cloud.google.com/v1beta1
kind: SecretManagerSecretVersion
metadata:
  name: secretmanagersecretversion-sample
spec:
  enabled: true
  secretData:
    valueFrom:
      secretKeyRef:
        key: secretData
        name: secretmanagersecretversion-dep
  secretRef:
    name: secretmanagersecretversion-dep
---
apiVersion: v1
kind: Secret
metadata:
  name: secretmanagersecretversion-dep
data:
  secretData: SSBhbHdheXMgbG92ZWQgc3BhcnJpbmcgd2l0aCBnaWFudCBjYW5keSBzd29yZHMsIGJ1dCBJIGhhZCBubyBpZGVhIHRoYXQgd2FzIG15IHN1cGVyIHNlY3JldCBpbmZvcm1hdGlvbiE=
---
apiVersion: secretmanager.cnrm.cloud.google.com/v1beta1
kind: SecretManagerSecret
metadata:
  name: secretmanagersecretversion-dep
spec:
  replication:
    automatic: true
```


Note: If you have any trouble with instantiating the resource, refer to <a href="/config-connector/docs/troubleshooting">Troubleshoot Config Connector</a>.

{% endblock %}