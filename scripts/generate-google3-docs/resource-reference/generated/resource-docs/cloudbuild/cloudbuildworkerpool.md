{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}CloudBuildWorkerPool{% endblock %}
{% block body %}


<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>Cloud Build</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/cloud-build/docs/">/cloud-build/docs/</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1.projects.workerpools</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a href="/cloud-build/docs/api/reference/rest/v1/projects.locations.workerPools">/cloud-build/docs/reference/rest/v1/projects.locations.workerPools</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpcloudbuildworkerpool<br>gcpcloudbuildworkerpools<br>cloudbuildworkerpool</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>cloudbuild.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>cloudbuildworkerpools.cloudbuild.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


<tr>
<td>{{product_name_short}} Default Average Reconcile Interval In Seconds</td>
<td>600</td>
</tr>
</tbody>
</table>

## Custom Resource Definition Properties



### Spec
#### Schema
```yaml
displayName: string
location: string
privatePoolV1Config:
  networkConfig:
    egressOption: string
    peeredNetworkIPRange: string
    peeredNetworkRef:
      external: string
      name: string
      namespace: string
  workerConfig:
    diskSizeGb: integer
    machineType: string
projectRef:
  external: string
  kind: string
  name: string
  namespace: string
resourceID: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>displayName</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A user-specified, human-readable name for the `WorkerPool`. If provided, this value must be 1-63 characters.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>location</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Legacy Private Pool configuration.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Network configuration for the pool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.egressOption</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Option to configure network egress for the workers.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.peeredNetworkIPRange</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Subnet IP range within the peered network. This is specified in CIDR notation with a slash and the subnet prefix size. You can optionally specify an IP address before the subnet prefix value. e.g. `192.168.0.0/29` would specify an IP range starting at 192.168.0.0 with a prefix size of 29 bits. `/16` would specify a prefix size of 16 bits, with an automatically determined IP within the peered VPC. If unspecified, a value of `/24` will be used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.peeredNetworkRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. The network definition that the workers are peered to. If this section is left empty, the workers will be peered to `WorkerPool.project_id` on the service producer network.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.peeredNetworkRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The value of an externally managed ComputeNetwork resource. Should be in the format "projects/{{projectID}}/global/networks/{{network}}".{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.peeredNetworkRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The name of a ComputeNetwork resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.networkConfig.peeredNetworkRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The namespace of a ComputeNetwork resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.workerConfig</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Machine configuration for the workers in the pool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.workerConfig.diskSizeGb</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Size of the disk attached to the worker, in GB. See [Worker pool config file](https://cloud.google.com/build/docs/private-pools/worker-pool-config-file-schema). Specify a value of up to 2000. If `0` is specified, Cloud Build will use a standard disk size.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>privatePoolV1Config.workerConfig.machineType</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Machine type of a worker, such as `e2-medium`. See [Worker pool config file](https://cloud.google.com/build/docs/private-pools/worker-pool-config-file-schema). If left blank, Cloud Build will use a sensible default.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef</code></p>
            <p><i>Required*</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}The Project that this resource belongs to.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `projectID` field of a project, when not managed by Config Connector.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.kind</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The kind of the Project resource; optional but must be `Project` if provided.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `name` field of a `Project` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The `namespace` field of a `Project` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>resourceID</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The GCP resource identifier. If not given, the metadata.name will be used.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>


<p>* Field is required when parent field is specified</p>


### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
externalRef: string
observedGeneration: integer
observedState:
  createTime: string
  etag: string
  networkConfig:
    egressOption: string
    peeredNetwork: string
    peeredNetworkIPRange: string
  updateTime: string
  workerConfig:
    diskSizeGb: integer
    machineType: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observations of the object's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>externalRef</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}A unique Config Connector specifier for the resource in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}ObservedState is the state of the resource as most recently observed in GCP.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.createTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The creation timestamp of the workerpool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.etag</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The Checksum computed by the server, using weak indicator.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.networkConfig</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Network configuration for the pool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.networkConfig.egressOption</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Option to configure network egress for the workers.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.networkConfig.peeredNetwork</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The network definition that the workers are peered to. If this section is left empty, the workers will be peered to `WorkerPool.project_id` on the service producer network.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.networkConfig.peeredNetworkIPRange</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. Subnet IP range within the peered network. This is specified in CIDR notation with a slash and the subnet prefix size. You can optionally specify an IP address before the subnet prefix value. e.g. `192.168.0.0/29` would specify an IP range starting at 192.168.0.0 with a prefix size of 29 bits. `/16` would specify a prefix size of 16 bits, with an automatically determined IP within the peered VPC. If unspecified, a value of `/24` will be used.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.updateTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The last update timestamp of the workerpool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.workerConfig</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Machine configuration for the workers in the pool.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.workerConfig.diskSizeGb</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}Size of the disk attached to the worker, in GB. See [Worker pool config file](https://cloud.google.com/build/docs/private-pools/worker-pool-config-file-schema). Specify a value of up to 2000. If `0` is specified, Cloud Build will use a standard disk size.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedState.workerConfig.machineType</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Machine type of a worker, such as `e2-medium`. See [Worker pool config file](https://cloud.google.com/build/docs/private-pools/worker-pool-config-file-schema). If left blank, Cloud Build will use a sensible default.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Workerpool With Default Network
```yaml
# Copyright 2024 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
apiVersion: cloudbuild.cnrm.cloud.google.com/v1beta1
kind: CloudBuildWorkerPool
metadata:
  name: cloudbuildworkerpool-sample-default-network
spec:
  projectRef:
    # Replace ${PROJECT_ID?} with your project ID
    external: "projects/${PROJECT_ID?}"
  location: us-central1
  displayName: A sample cloud build private pool with VSA Service Control
  privatePoolV1Config:
    workerConfig:
      machineType: e2-medium
      diskSizeGb: 100
```

### Workerpool With Peered Network
```yaml
# Copyright 2024 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
apiVersion: cloudbuild.cnrm.cloud.google.com/v1beta1
kind: CloudBuildWorkerPool
metadata:
  name: cloudbuildworkerpool-sample-peered-network
spec:
  projectRef:
    # Replace ${PROJECT_ID?} with your project ID
    external: projects/${PROJECT_ID?}
  location: us-central1
  displayName: A sample cloud build private pool with custom peered network
  privatePoolV1Config:
    workerConfig:
      machineType: e2-medium
      diskSizeGb: 100
    networkConfig:
      peeredNetworkRef:
        name: cloudbuildworkerpool-dep-peered-network
      egressOption: NO_PUBLIC_EGRESS
      peeredNetworkIPRange: /29
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeAddress
metadata:
  name: cloudbuildworkerpool-dep-peered-network
  annotations:
    cnrm.cloud.google.com/project-id: ${PROJECT_ID?}
spec:
  location: global
  purpose: VPC_PEERING
  addressType: INTERNAL
  prefixLength: 24
  networkRef:
    name: cloudbuildworkerpool-dep-peered-network
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeNetwork
metadata:
  name: cloudbuildworkerpool-dep-peered-network
  annotations:
    cnrm.cloud.google.com/project-id: ${PROJECT_ID?}
spec:
  autoCreateSubnetworks: false
---
apiVersion: servicenetworking.cnrm.cloud.google.com/v1beta1
kind: ServiceNetworkingConnection
metadata:
  name: cloudbuildworkerpool-dep-peered-network
  annotations:
    cnrm.cloud.google.com/project-id: ${PROJECT_ID?}
spec:
  networkRef:
    name: cloudbuildworkerpool-dep-peered-network
  service: servicenetworking.googleapis.com
  reservedPeeringRanges:
    - name: cloudbuildworkerpool-dep-peered-network
```


Note: If you have any trouble with instantiating the resource, refer to <a href="/config-connector/docs/troubleshooting">Troubleshoot Config Connector</a>.

{% endblock %}
