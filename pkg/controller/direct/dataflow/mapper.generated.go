// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Code generated by dev/tasks/generate-all. DO NOT EDIT.
// +generated:mapper
// krm.group: dataflow.cnrm.cloud.google.com
// krm.version: v1beta1
// proto.service: google.dataflow.v1beta3

package dataflow

import (
	pb "cloud.google.com/go/dataflow/apiv1beta3/dataflowpb"
	krmcomputev1beta1 "github.com/GoogleCloudPlatform/k8s-config-connector/apis/compute/v1beta1"
	krm "github.com/GoogleCloudPlatform/k8s-config-connector/apis/dataflow/v1beta1"
	refsv1beta1 "github.com/GoogleCloudPlatform/k8s-config-connector/apis/refs/v1beta1"
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/controller/direct"
)

func DataflowFlexTemplateJobSpec_FromProto(mapCtx *direct.MapContext, in *pb.FlexTemplateRuntimeEnvironment) *krm.DataflowFlexTemplateJobSpec {
	if in == nil {
		return nil
	}
	out := &krm.DataflowFlexTemplateJobSpec{}
	out.NumWorkers = direct.LazyPtr(in.GetNumWorkers())
	out.MaxWorkers = direct.LazyPtr(in.GetMaxWorkers())
	// MISSING: Zone
	if in.GetServiceAccountEmail() != "" {
		out.ServiceAccountEmailRef = &refsv1beta1.IAMServiceAccountRef{External: in.GetServiceAccountEmail()}
	}
	out.TempLocation = direct.LazyPtr(in.GetTempLocation())
	out.MachineType = direct.LazyPtr(in.GetMachineType())
	out.AdditionalExperiments = in.AdditionalExperiments
	if in.GetNetwork() != "" {
		out.NetworkRef = &krmcomputev1beta1.ComputeNetworkRef{External: in.GetNetwork()}
	}
	if in.GetSubnetwork() != "" {
		out.SubnetworkRef = &refsv1beta1.ComputeSubnetworkRef{External: in.GetSubnetwork()}
	}
	// MISSING: AdditionalUserLabels
	if in.GetKmsKeyName() != "" {
		out.KMSKeyNameRef = &refsv1beta1.KMSCryptoKeyRef{External: in.GetKmsKeyName()}
	}
	out.IPConfiguration = direct.Enum_FromProto(mapCtx, in.GetIpConfiguration())
	// MISSING: WorkerRegion
	// MISSING: WorkerZone
	out.EnableStreamingEngine = direct.LazyPtr(in.GetEnableStreamingEngine())
	// MISSING: FlexrsGoal
	out.StagingLocation = direct.LazyPtr(in.GetStagingLocation())
	out.SdkContainerImage = direct.LazyPtr(in.GetSdkContainerImage())
	// MISSING: DiskSizeGB
	out.AutoscalingAlgorithm = direct.Enum_FromProto(mapCtx, in.GetAutoscalingAlgorithm())
	// MISSING: DumpHeapOnOom
	// MISSING: SaveHeapDumpsToGCSPath
	out.LauncherMachineType = direct.LazyPtr(in.GetLauncherMachineType())
	// MISSING: EnableLauncherVMSerialPortLogging
	// MISSING: StreamingMode
	return out
}
func DataflowFlexTemplateJobSpec_ToProto(mapCtx *direct.MapContext, in *krm.DataflowFlexTemplateJobSpec) *pb.FlexTemplateRuntimeEnvironment {
	if in == nil {
		return nil
	}
	out := &pb.FlexTemplateRuntimeEnvironment{}
	out.NumWorkers = direct.ValueOf(in.NumWorkers)
	out.MaxWorkers = direct.ValueOf(in.MaxWorkers)
	// MISSING: Zone
	if in.ServiceAccountEmailRef != nil {
		out.ServiceAccountEmail = in.ServiceAccountEmailRef.External
	}
	out.TempLocation = direct.ValueOf(in.TempLocation)
	out.MachineType = direct.ValueOf(in.MachineType)
	out.AdditionalExperiments = in.AdditionalExperiments
	if in.NetworkRef != nil {
		out.Network = in.NetworkRef.External
	}
	if in.SubnetworkRef != nil {
		out.Subnetwork = in.SubnetworkRef.External
	}
	// MISSING: AdditionalUserLabels
	if in.KMSKeyNameRef != nil {
		out.KmsKeyName = in.KMSKeyNameRef.External
	}
	out.IpConfiguration = direct.Enum_ToProto[pb.WorkerIPAddressConfiguration](mapCtx, in.IPConfiguration)
	// MISSING: WorkerRegion
	// MISSING: WorkerZone
	out.EnableStreamingEngine = direct.ValueOf(in.EnableStreamingEngine)
	// MISSING: FlexrsGoal
	out.StagingLocation = direct.ValueOf(in.StagingLocation)
	out.SdkContainerImage = direct.ValueOf(in.SdkContainerImage)
	// MISSING: DiskSizeGB
	out.AutoscalingAlgorithm = direct.Enum_ToProto[pb.AutoscalingAlgorithm](mapCtx, in.AutoscalingAlgorithm)
	// MISSING: DumpHeapOnOom
	// MISSING: SaveHeapDumpsToGCSPath
	out.LauncherMachineType = direct.ValueOf(in.LauncherMachineType)
	// MISSING: EnableLauncherVMSerialPortLogging
	// MISSING: StreamingMode
	return out
}
