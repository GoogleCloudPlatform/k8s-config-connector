// Copyright 2020 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

type ServiceConsumers struct {
	/* Immutable. The subnetwork of the customer project from which an IP address is reserved and used as the Dataproc Metastore service's endpoint. It is accessible to hosts in the subnet and to all hosts in a subnet in the same region and same network. There must be at least one IP address available in the subnet's primary range. */
	// +optional
	SubnetworkRef *v1alpha1.ResourceRef `json:"subnetworkRef,omitempty"`
}

type ServiceEncryptionConfig struct {
	/* The fully qualified customer provided Cloud KMS key name to use for customer data encryption */
	// +optional
	KmsKeyRef *v1alpha1.ResourceRef `json:"kmsKeyRef,omitempty"`
}

type ServiceHiveMetastoreConfig struct {
	/* A mapping of Hive metastore configuration key-value pairs to apply to the Hive metastore (configured in `hive-site.xml`). The mappings override system defaults (some keys cannot be overridden). These overrides are also applied to auxiliary versions and can be further customized in the auxiliary version's `AuxiliaryVersionConfig`. */
	// +optional
	ConfigOverrides map[string]string `json:"configOverrides,omitempty"`

	/* The protocol to use for the metastore service endpoint. If unspecified, defaults to `THRIFT`. */
	// +optional
	EndpointProtocol *string `json:"endpointProtocol,omitempty"`

	/* Information used to configure the Hive metastore service as a service principal in a Kerberos realm. To disable Kerberos, use the `UpdateService` method and specify this field's path (`hive_metastore_config.kerberos_config`) in the request's `update_mask` while omitting this field from the request's `service`. */
	// +optional
	KerberosConfig *ServiceKerberosConfig `json:"kerberosConfig,omitempty"`

	/* Immutable. The Hive metastore schema version. */
	// +optional
	Version *string `json:"version,omitempty"`
}

type ServiceHourOfDay struct {
	/* The int32 value. */
	// +optional
	Value *int32 `json:"value,omitempty"`
}

type ServiceKerberosConfig struct {
	/* A Kerberos keytab file that can be used to authenticate a service principal with a Kerberos Key Distribution Center (KDC). */
	// +optional
	Keytab *ServiceKeytab `json:"keytab,omitempty"`

	/* A Cloud Storage URI that specifies the path to a krb5.conf file. It is of the form `gs://{bucket_name}/path/to/krb5.conf`, although the file does not need to be named krb5.conf explicitly. */
	// +optional
	Krb5ConfigGCSURI *string `json:"krb5ConfigGCSURI,omitempty"`

	/* A Kerberos principal that exists in the both the keytab the KDC to authenticate as. A typical principal is of the form `primary/instance@REALM`, but there is no exact format. */
	// +optional
	Principal *string `json:"principal,omitempty"`
}

type ServiceKeytab struct {
	/* The relative resource name of a Secret Manager secret version */
	// +optional
	SecretRef *v1alpha1.ResourceRef `json:"secretRef,omitempty"`
}

type ServiceMaintenanceWindow struct {
	/* The day of week, when the window starts. */
	// +optional
	DayOfWeek *string `json:"dayOfWeek,omitempty"`

	/* The hour of day (0-23) when the window starts. */
	// +optional
	HourOfDay *ServiceHourOfDay `json:"hourOfDay,omitempty"`
}

type ServiceNetworkConfig struct {
	/* Immutable. The consumer-side network configuration for the Dataproc Metastore instance. */
	// +optional
	Consumers []ServiceConsumers `json:"consumers,omitempty"`
}

type ServiceScalingConfig struct {
	/* An enum of readable instance sizes, with each instance size mapping to a float value (e.g. InstanceSize.EXTRA_SMALL = scaling_factor(0.1)) */
	// +optional
	InstanceSize *string `json:"instanceSize,omitempty"`

	/* Scaling factor, increments of 0.1 for values less than 1.0, and increments of 1.0 for values greater than 1.0. */
	// +optional
	ScalingFactor *float64 `json:"scalingFactor,omitempty"`
}

type ServiceTelemetryConfig struct {
	/* The output format of the Dataproc Metastore service's logs. */
	// +optional
	LogFormat *string `json:"logFormat,omitempty"`
}

type MetastoreServiceSpec struct {
	/* Immutable. The database type that the Metastore service stores its data. */
	// +optional
	DatabaseType *string `json:"databaseType,omitempty"`

	/* Immutable. Information used to configure the Dataproc Metastore service to encrypt customer data at rest. Cannot be updated. */
	// +optional
	EncryptionConfig *ServiceEncryptionConfig `json:"encryptionConfig,omitempty"`

	/* Configuration information specific to running Hive metastore software as the metastore service. */
	// +optional
	HiveMetastoreConfig *ServiceHiveMetastoreConfig `json:"hiveMetastoreConfig,omitempty"`

	/* User-defined labels for the metastore service. */
	// +optional
	Labels map[string]string `json:"labels,omitempty"`

	Location string `json:"location"`

	/* The one hour maintenance window of the metastore service. This specifies when the service can be restarted for maintenance purposes in UTC time. Maintenance window is not needed for services with the SPANNER database type. */
	// +optional
	MaintenanceWindow *ServiceMaintenanceWindow `json:"maintenanceWindow,omitempty"`

	/* The configuration specifying the network settings for the Dataproc Metastore service. */
	// +optional
	NetworkConfig *ServiceNetworkConfig `json:"networkConfig,omitempty"`

	/* Immutable. The relative resource name of the VPC network on which the instance can be accessed. */
	// +optional
	NetworkRef *v1alpha1.ResourceRef `json:"networkRef,omitempty"`

	/* The TCP port at which the metastore service is reached. Default: 9083. */
	// +optional
	Port *int32 `json:"port,omitempty"`

	/* The Project that this resource belongs to. */
	// +optional
	ProjectRef *v1alpha1.ResourceRef `json:"projectRef,omitempty"`

	/* Immutable. The release channel of the service. If unspecified, defaults to `STABLE`. */
	// +optional
	ReleaseChannel *string `json:"releaseChannel,omitempty"`

	/* The MetastoreService name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`

	/* Scaling configuration of the metastore service. */
	// +optional
	ScalingConfig *ServiceScalingConfig `json:"scalingConfig,omitempty"`

	/* The configuration specifying telemetry settings for the Dataproc Metastore service. If unspecified defaults to `JSON`. */
	// +optional
	TelemetryConfig *ServiceTelemetryConfig `json:"telemetryConfig,omitempty"`

	/* The tier of the service. */
	// +optional
	Tier *string `json:"tier,omitempty"`
}

type ServiceConsumersStatus struct {
	/* Output only. The location of the endpoint URI. Format: `projects/{project}/locations/{location}`. */
	// +optional
	EndpointLocation *string `json:"endpointLocation,omitempty"`

	/* Output only. The URI of the endpoint used to access the metastore service. */
	// +optional
	EndpointURI *string `json:"endpointURI,omitempty"`
}

type ServiceMetadataExportsStatus struct {
	/* Output only. The type of the database dump. */
	// +optional
	DatabaseDumpType *string `json:"databaseDumpType,omitempty"`

	/* Output only. A Cloud Storage URI of a folder that metadata are exported to, in the form of `gs://<bucket_name>/<path_inside_bucket>/<export_folder>`, where `<export_folder>` is automatically generated. */
	// +optional
	DestinationGCSURI *string `json:"destinationGCSURI,omitempty"`

	/* Output only. The time when the export ended. */
	// +optional
	EndTime *string `json:"endTime,omitempty"`

	/* Output only. The time when the export started. */
	// +optional
	StartTime *string `json:"startTime,omitempty"`

	/* Output only. The current state of the export. */
	// +optional
	State *string `json:"state,omitempty"`
}

type ServiceMetadataManagementActivityStatus struct {
	/* Output only. The latest metadata exports of the metastore service. */
	// +optional
	MetadataExports []ServiceMetadataExportsStatus `json:"metadataExports,omitempty"`

	/* Output only. The latest restores of the metastore service. */
	// +optional
	Restores []ServiceRestoresStatus `json:"restores,omitempty"`
}

type ServiceNetworkConfigStatus struct {
	/* Immutable. The consumer-side network configuration for the Dataproc Metastore instance. */
	// +optional
	Consumers []ServiceConsumersStatus `json:"consumers,omitempty"`
}

type ServiceObservedStateStatus struct {
	/* Output only. A Cloud Storage URI (starting with `gs://`) that specifies where artifacts related to the metastore service are stored. */
	// +optional
	ArtifactGCSURI *string `json:"artifactGCSURI,omitempty"`

	/* Output only. The time when the metastore service was created. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Output only. The URI of the endpoint used to access the metastore service. */
	// +optional
	EndpointURI *string `json:"endpointURI,omitempty"`

	/* Output only. The metadata management activities of the metastore service. */
	// +optional
	MetadataManagementActivity *ServiceMetadataManagementActivityStatus `json:"metadataManagementActivity,omitempty"`

	/* The configuration specifying the network settings for the Dataproc Metastore service. */
	// +optional
	NetworkConfig *ServiceNetworkConfigStatus `json:"networkConfig,omitempty"`

	/* Output only. The current state of the metastore service. */
	// +optional
	State *string `json:"state,omitempty"`

	/* Output only. Additional information about the current state of the metastore service, if available. */
	// +optional
	StateMessage *string `json:"stateMessage,omitempty"`

	/* Output only. The globally unique resource identifier of the metastore service. */
	// +optional
	Uid *string `json:"uid,omitempty"`

	/* Output only. The time when the metastore service was last updated. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type ServiceRestoresStatus struct {
	/* Output only. The relative resource name of the metastore service backup to
	restore from, in the following form:

	`projects/{project_id}/locations/{location_id}/services/{service_id}/backups/{backup_id}`. */
	// +optional
	Backup *string `json:"backup,omitempty"`

	/* Output only. The restore details containing the revision of the service to be restored to, in format of JSON. */
	// +optional
	Details *string `json:"details,omitempty"`

	/* Output only. The time when the restore ended. */
	// +optional
	EndTime *string `json:"endTime,omitempty"`

	/* Output only. The time when the restore started. */
	// +optional
	StartTime *string `json:"startTime,omitempty"`

	/* Output only. The current state of the restore. */
	// +optional
	State *string `json:"state,omitempty"`

	/* Output only. The type of restore. */
	// +optional
	Type *string `json:"type,omitempty"`
}

type MetastoreServiceStatus struct {
	/* Conditions represent the latest available observations of the
	   MetastoreService's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the MetastoreService resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *ServiceObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpmetastoreservice;gcpmetastoreservices
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true"
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// MetastoreService is the Schema for the metastore API
// +k8s:openapi-gen=true
type MetastoreService struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   MetastoreServiceSpec   `json:"spec,omitempty"`
	Status MetastoreServiceStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// MetastoreServiceList contains a list of MetastoreService
type MetastoreServiceList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []MetastoreService `json:"items"`
}

func init() {
	SchemeBuilder.Register(&MetastoreService{}, &MetastoreServiceList{})
}
