// Copyright 2020 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	apiextensionsv1 "k8s.io/apiextensions-apiserver/pkg/apis/apiextensions/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

var _ = apiextensionsv1.JSON{}

type BackupDRBackupVaultSpec struct {
	/* Optional. Note: This field is added for future use case and will not be
	supported in the current release.

	Access restriction for the backup vault.
	Default value is WITHIN_ORGANIZATION if not provided during creation. */
	// +optional
	AccessRestriction *string `json:"accessRestriction,omitempty"`

	/* Optional. User annotations. See https://google.aip.dev/128#annotations Stores small amounts of arbitrary data. */
	// +optional
	Annotations map[string]string `json:"annotations,omitempty"`

	/* Required. The default and minimum enforced retention for each backup within the backup vault.  The enforced retention for each backup can be extended. */
	BackupMinimumEnforcedRetentionDuration string `json:"backupMinimumEnforcedRetentionDuration"`

	/* Optional. The description of the BackupVault instance (2048 characters or less). */
	// +optional
	Description *string `json:"description,omitempty"`

	/* Optional. Time after which the BackupVault resource is locked. */
	// +optional
	EffectiveTime *string `json:"effectiveTime,omitempty"`

	/* Optional. If set to true, allows deletion of a backup vault even when it contains inactive data sources. This overrides the default restriction that prevents deletion of backup vaults with any data sources, even if those data sources are inactive. */
	// +optional
	IgnoreInactiveDatasources *bool `json:"ignoreInactiveDatasources,omitempty"`

	/* Immutable. */
	Location string `json:"location"`

	/* The Project that this resource belongs to. */
	ProjectRef v1alpha1.ResourceRef `json:"projectRef"`

	/* The BackupDRBackupVault name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`
}

type BackupvaultObservedStateStatus struct {
	/* Output only. The number of backups in this backup vault. */
	// +optional
	BackupCount *int64 `json:"backupCount,omitempty"`

	/* Output only. The time when the instance was created. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Output only. Set to true when there are no backups nested under this resource. */
	// +optional
	Deletable *bool `json:"deletable,omitempty"`

	/* Output only. A tag that confirms the content of the BackupVault resource. */
	// +optional
	Etag *string `json:"etag,omitempty"`

	/* Output only. Service account used by the BackupVault Service for this BackupVault.  The user should grant this account permissions in their workload project to enable the service to run backups and restores there. */
	// +optional
	ServiceAccount *string `json:"serviceAccount,omitempty"`

	/* Output only. The BackupVault resource instance state. */
	// +optional
	State *string `json:"state,omitempty"`

	/* Output only. Total size of the storage used by all backup resources. */
	// +optional
	TotalStoredBytes *int64 `json:"totalStoredBytes,omitempty"`

	/* Output only. Immutable after resource creation until resource deletion. */
	// +optional
	Uid *string `json:"uid,omitempty"`

	/* Output only. The time when the instance was updated. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type BackupDRBackupVaultStatus struct {
	/* Conditions represent the latest available observations of the
	   BackupDRBackupVault's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the BackupDRBackupVault resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *BackupvaultObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpbackupdrbackupvault;gcpbackupdrbackupvaults
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true"
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// BackupDRBackupVault is the Schema for the backupdr API
// +k8s:openapi-gen=true
type BackupDRBackupVault struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   BackupDRBackupVaultSpec   `json:"spec,omitempty"`
	Status BackupDRBackupVaultStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// BackupDRBackupVaultList contains a list of BackupDRBackupVault
type BackupDRBackupVaultList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []BackupDRBackupVault `json:"items"`
}

func init() {
	SchemeBuilder.Register(&BackupDRBackupVault{}, &BackupDRBackupVaultList{})
}
