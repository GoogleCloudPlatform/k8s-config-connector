// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

type WorkloadResourceSettings struct {
	/* User-assigned resource display name. If not empty it will be used to create a resource with the specified name. */
	// +optional
	DisplayName *string `json:"displayName,omitempty"`

	/* Resource identifier. For a project this represents project_id. If the project is already taken, the workload creation will fail. For KeyRing, this represents the keyring_id. For a folder, don't set this value as folder_id is assigned by Google. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`

	/* Indicates the type of resource. This field should be specified to correspond the id to the right resource type (CONSUMER_FOLDER or ENCRYPTION_KEYS_PROJECT) */
	// +optional
	ResourceType *string `json:"resourceType,omitempty"`
}

type AssuredWorkloadsWorkloadSpec struct {
	/* Optional. The billing account used for the resources which are direct children of workload. This billing account is initially associated with the resources created as part of Workload creation. After the initial creation of these resources, the customer can change the assigned billing account. The resource name has the form `billingAccounts/{billing_account_id}`. For example, `billingAccounts/012345-567890-ABCDEF`. */
	// +optional
	BillingAccountRef *v1alpha1.ResourceRef `json:"billingAccountRef,omitempty"`

	/* Required. Immutable. Compliance Regime associated with this workload. */
	// +optional
	ComplianceRegime *string `json:"complianceRegime,omitempty"`

	/* Required. The user-assigned display name of the Workload.
	When present it must be between 4 to 30 characters.
	Allowed characters are: lowercase and uppercase letters, numbers,
	hyphen, and spaces.

	Example: My Workload */
	// +optional
	DisplayName *string `json:"displayName,omitempty"`

	/* Optional. Indicates the sovereignty status of the given workload. Currently meant to be used by Europe/Canada customers. */
	// +optional
	EnableSovereignControls *bool `json:"enableSovereignControls,omitempty"`

	/* Optional. Compliance Regime associated with this workload. */
	// +optional
	Partner *string `json:"partner,omitempty"`

	/* The AssuredWorkloadsWorkload name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`

	/* Input only. Resource properties that are used to customize workload resources. These properties (such as custom project id) will be used to create workload resources if possible. This field is optional. */
	// +optional
	ResourceSettings []WorkloadResourceSettings `json:"resourceSettings,omitempty"`
}

type WorkloadObservedStateStatus struct {
	/* Output only. Urls for services which are compliant for this Assured Workload, but which are currently disallowed by the ResourceUsageRestriction org policy. Invoke RestrictAllowedResources endpoint to allow your project developers to use these services in their environment." */
	// +optional
	CompliantButDisallowedServices []string `json:"compliantButDisallowedServices,omitempty"`

	/* Output only. Immutable. The Workload creation timestamp. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Output only. Represents the KAJ enrollment state of the given workload. */
	// +optional
	KajEnrollmentState *string `json:"kajEnrollmentState,omitempty"`

	/* Output only. The resources associated with this workload. These resources will be created when creating the workload. If any of the projects already exist, the workload creation will fail. Always read only. */
	// +optional
	Resources []WorkloadResourcesStatus `json:"resources,omitempty"`

	/* Output only. Represents the SAA enrollment response of the given workload. SAA enrollment response is queried during GetWorkload call. In failure cases, user friendly error message is shown in SAA details page. */
	// +optional
	SaaEnrollmentResponse *WorkloadSaaEnrollmentResponseStatus `json:"saaEnrollmentResponse,omitempty"`
}

type WorkloadResourcesStatus struct {
	/* Resource identifier. For a project this represents project_number. */
	// +optional
	ResourceID *int64 `json:"resourceID,omitempty"`

	/* Indicates the type of resource. */
	// +optional
	ResourceType *string `json:"resourceType,omitempty"`
}

type WorkloadSaaEnrollmentResponseStatus struct {
	/* Indicates SAA enrollment setup error if any. */
	// +optional
	SetupErrors []string `json:"setupErrors,omitempty"`

	/* Indicates SAA enrollment status of a given workload. */
	// +optional
	SetupStatus *string `json:"setupStatus,omitempty"`
}

type AssuredWorkloadsWorkloadStatus struct {
	/* Conditions represent the latest available observations of the
	   AssuredWorkloadsWorkload's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the AssuredWorkloadsWorkload resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *WorkloadObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpassuredworkloadsworkload;gcpassuredworkloadsworkloads
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true";"cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// AssuredWorkloadsWorkload is the Schema for the assuredworkloads API
// +k8s:openapi-gen=true
type AssuredWorkloadsWorkload struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   AssuredWorkloadsWorkloadSpec   `json:"spec,omitempty"`
	Status AssuredWorkloadsWorkloadStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// AssuredWorkloadsWorkloadList contains a list of AssuredWorkloadsWorkload
type AssuredWorkloadsWorkloadList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []AssuredWorkloadsWorkload `json:"items"`
}

func init() {
	SchemeBuilder.Register(&AssuredWorkloadsWorkload{}, &AssuredWorkloadsWorkloadList{})
}
