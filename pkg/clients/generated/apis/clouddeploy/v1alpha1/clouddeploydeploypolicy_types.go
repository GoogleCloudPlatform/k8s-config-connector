// Copyright 2020 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	apiextensionsv1 "k8s.io/apiextensions-apiserver/pkg/apis/apiextensions/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

var _ = apiextensionsv1.JSON{}

type DeploypolicyDeliveryPipeline struct {
	/* Optional. ID of the `DeliveryPipeline`. The value of this field could be
	one of the following:

	* The last segment of a pipeline name
	* "*", all delivery pipelines in a location */
	// +optional
	Id *string `json:"id,omitempty"`

	/* DeliveryPipeline labels. */
	// +optional
	Labels map[string]string `json:"labels,omitempty"`
}

type DeploypolicyEndDate struct {
	/* Day of a month. Must be from 1 to 31 and valid for the year and month, or 0 to specify a year by itself or a year and month where the day isn't significant. */
	// +optional
	Day *int32 `json:"day,omitempty"`

	/* Month of a year. Must be from 1 to 12, or 0 to specify a year without a month and day. */
	// +optional
	Month *int32 `json:"month,omitempty"`

	/* Year of the date. Must be from 1 to 9999, or 0 to specify a date without a year. */
	// +optional
	Year *int32 `json:"year,omitempty"`
}

type DeploypolicyEndTime struct {
	/* Hours of day in 24 hour format. Should be from 0 to 23. An API may choose to allow the value "24:00:00" for scenarios like business closing time. */
	// +optional
	Hours *int32 `json:"hours,omitempty"`

	/* Minutes of hour of day. Must be from 0 to 59. */
	// +optional
	Minutes *int32 `json:"minutes,omitempty"`

	/* Fractions of seconds in nanoseconds. Must be from 0 to 999,999,999. */
	// +optional
	Nanos *int32 `json:"nanos,omitempty"`

	/* Seconds of minutes of the time. Must normally be from 0 to 59. An API may allow the value 60 if it allows leap-seconds. */
	// +optional
	Seconds *int32 `json:"seconds,omitempty"`
}

type DeploypolicyOneTimeWindows struct {
	/* Required. End date. */
	// +optional
	EndDate *DeploypolicyEndDate `json:"endDate,omitempty"`

	/* Required. End time (exclusive). You may use 24:00 for the end of the day. */
	// +optional
	EndTime *DeploypolicyEndTime `json:"endTime,omitempty"`

	/* Required. Start date. */
	// +optional
	StartDate *DeploypolicyStartDate `json:"startDate,omitempty"`

	/* Required. Start time (inclusive). Use 00:00 for the beginning of the day. */
	// +optional
	StartTime *DeploypolicyStartTime `json:"startTime,omitempty"`
}

type DeploypolicyRolloutRestriction struct {
	/* Optional. Rollout actions to be restricted as part of the policy. If left empty, all actions will be restricted. */
	// +optional
	Actions []string `json:"actions,omitempty"`

	/* Required. Restriction rule ID. Required and must be unique within a DeployPolicy. The format is `[a-z]([a-z0-9-]{0,61}[a-z0-9])?`. */
	// +optional
	Id *string `json:"id,omitempty"`

	/* Optional. What invoked the action. If left empty, all invoker types will be restricted. */
	// +optional
	Invokers []string `json:"invokers,omitempty"`

	/* Required. Time window within which actions are restricted. */
	// +optional
	TimeWindows *DeploypolicyTimeWindows `json:"timeWindows,omitempty"`
}

type DeploypolicyRules struct {
	/* Optional. Rollout restrictions. */
	// +optional
	RolloutRestriction *DeploypolicyRolloutRestriction `json:"rolloutRestriction,omitempty"`
}

type DeploypolicySelectors struct {
	/* Optional. Contains attributes about a delivery pipeline. */
	// +optional
	DeliveryPipeline *DeploypolicyDeliveryPipeline `json:"deliveryPipeline,omitempty"`

	/* Optional. Contains attributes about a target. */
	// +optional
	Target *DeploypolicyTarget `json:"target,omitempty"`
}

type DeploypolicyStartDate struct {
	/* Day of a month. Must be from 1 to 31 and valid for the year and month, or 0 to specify a year by itself or a year and month where the day isn't significant. */
	// +optional
	Day *int32 `json:"day,omitempty"`

	/* Month of a year. Must be from 1 to 12, or 0 to specify a year without a month and day. */
	// +optional
	Month *int32 `json:"month,omitempty"`

	/* Year of the date. Must be from 1 to 9999, or 0 to specify a date without a year. */
	// +optional
	Year *int32 `json:"year,omitempty"`
}

type DeploypolicyStartTime struct {
	/* Hours of day in 24 hour format. Should be from 0 to 23. An API may choose to allow the value "24:00:00" for scenarios like business closing time. */
	// +optional
	Hours *int32 `json:"hours,omitempty"`

	/* Minutes of hour of day. Must be from 0 to 59. */
	// +optional
	Minutes *int32 `json:"minutes,omitempty"`

	/* Fractions of seconds in nanoseconds. Must be from 0 to 999,999,999. */
	// +optional
	Nanos *int32 `json:"nanos,omitempty"`

	/* Seconds of minutes of the time. Must normally be from 0 to 59. An API may allow the value 60 if it allows leap-seconds. */
	// +optional
	Seconds *int32 `json:"seconds,omitempty"`
}

type DeploypolicyTarget struct {
	/* Optional. ID of the `Target`. The value of this field could be one of the
	following:

	* The last segment of a target name
	* "*", all targets in a location */
	// +optional
	Id *string `json:"id,omitempty"`

	/* Target labels. */
	// +optional
	Labels map[string]string `json:"labels,omitempty"`
}

type DeploypolicyTimeWindows struct {
	/* Optional. One-time windows within which actions are restricted. */
	// +optional
	OneTimeWindows []DeploypolicyOneTimeWindows `json:"oneTimeWindows,omitempty"`

	/* Required. The time zone in IANA format [IANA Time Zone Database](https://www.iana.org/time-zones) (e.g. America/New_York). */
	// +optional
	TimeZone *string `json:"timeZone,omitempty"`

	/* Optional. Recurring weekly windows within which actions are restricted. */
	// +optional
	WeeklyWindows []DeploypolicyWeeklyWindows `json:"weeklyWindows,omitempty"`
}

type DeploypolicyWeeklyWindows struct {
	/* Optional. Days of week. If left empty, all days of the week will be included. */
	// +optional
	DaysOfWeek []string `json:"daysOfWeek,omitempty"`

	/* Optional. End time (exclusive). Use 24:00 to indicate midnight. If you specify end_time you must also specify start_time. If left empty, this will block for the entire day for the days specified in days_of_week. */
	// +optional
	EndTime *DeploypolicyEndTime `json:"endTime,omitempty"`

	/* Optional. Start time (inclusive). Use 00:00 for the beginning of the day. If you specify start_time you must also specify end_time. If left empty, this will block for the entire day for the days specified in days_of_week. */
	// +optional
	StartTime *DeploypolicyStartTime `json:"startTime,omitempty"`
}

type CloudDeployDeployPolicySpec struct {
	/* Description of the `DeployPolicy`. Max length is 255 characters. */
	// +optional
	Description *string `json:"description,omitempty"`

	/* Immutable. */
	Location string `json:"location"`

	/* The Project that this resource belongs to. */
	ProjectRef v1alpha1.ResourceRef `json:"projectRef"`

	/* The DeployDeployPolicy name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`

	/* Required. Rules to apply. At least one rule must be present. */
	// +optional
	Rules []DeploypolicyRules `json:"rules,omitempty"`

	/* Required. Selected resources to which the policy will be applied. At least one selector is required. If one selector matches the resource the policy applies. For example, if there are two selectors and the action being attempted matches one of them, the policy will apply to that action. */
	// +optional
	Selectors []DeploypolicySelectors `json:"selectors,omitempty"`

	/* When suspended, the policy will not prevent actions from occurring, even if the action violates the policy. */
	// +optional
	Suspended *bool `json:"suspended,omitempty"`
}

type DeploypolicyObservedStateStatus struct {
	/* Output only. Time at which the deploy policy was created. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Output only. Name of the `DeployPolicy`. Format is `projects/{project}/locations/{location}/deployPolicies/{deployPolicy}`. The `deployPolicy` component must match `[a-z]([a-z0-9-]{0,61}[a-z0-9])?` */
	// +optional
	Name *string `json:"name,omitempty"`

	/* Output only. Unique identifier of the `DeployPolicy`. */
	// +optional
	Uid *string `json:"uid,omitempty"`

	/* Output only. Most recent time at which the deploy policy was updated. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type CloudDeployDeployPolicyStatus struct {
	/* Conditions represent the latest available observations of the
	   CloudDeployDeployPolicy's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the DeployDeployPolicy resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *DeploypolicyObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpcodedeploydeploypolicy;gcpcodedeploydeploypolicies
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true"
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// CloudDeployDeployPolicy is the Schema for the clouddeploy API
// +k8s:openapi-gen=true
type CloudDeployDeployPolicy struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   CloudDeployDeployPolicySpec   `json:"spec,omitempty"`
	Status CloudDeployDeployPolicyStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// CloudDeployDeployPolicyList contains a list of CloudDeployDeployPolicy
type CloudDeployDeployPolicyList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []CloudDeployDeployPolicy `json:"items"`
}

func init() {
	SchemeBuilder.Register(&CloudDeployDeployPolicy{}, &CloudDeployDeployPolicyList{})
}
