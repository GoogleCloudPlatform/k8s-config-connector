// Copyright 2020 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

type LakeMetastore struct {
	/* Optional. A relative reference to the Dataproc Metastore (https://cloud.google.com/dataproc-metastore/docs) service associated with the lake: `projects/{project_id}/locations/{location_id}/services/{service_id}` */
	// +optional
	ServiceRef *v1alpha1.ResourceRef `json:"serviceRef,omitempty"`
}

type DataplexLakeSpec struct {
	/* Optional. Description of the lake. */
	// +optional
	Description *string `json:"description,omitempty"`

	/* Optional. User friendly display name. */
	// +optional
	DisplayName *string `json:"displayName,omitempty"`

	Location string `json:"location"`

	/* Optional. Settings to manage lake and Dataproc Metastore service instance association. */
	// +optional
	Metastore *LakeMetastore `json:"metastore,omitempty"`

	/* The Project that this resource belongs to. */
	ProjectRef v1alpha1.ResourceRef `json:"projectRef"`

	/* The DataplexLake name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`
}

type LakeAssetStatusStatus struct {
	/* Number of active assets. */
	// +optional
	ActiveAssets *int32 `json:"activeAssets,omitempty"`

	/* Number of assets that are in process of updating the security policy on attached resources. */
	// +optional
	SecurityPolicyApplyingAssets *int32 `json:"securityPolicyApplyingAssets,omitempty"`

	/* Last update time of the status. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type LakeMetastoreStatusStatus struct {
	/* The URI of the endpoint used to access the Metastore service. */
	// +optional
	Endpoint *string `json:"endpoint,omitempty"`

	/* Additional information about the current status. */
	// +optional
	Message *string `json:"message,omitempty"`

	/* Current state of association. */
	// +optional
	State *string `json:"state,omitempty"`

	/* Last update time of the metastore status of the lake. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type LakeObservedStateStatus struct {
	/* Output only. Aggregated status of the underlying assets of the lake. */
	// +optional
	AssetStatus *LakeAssetStatusStatus `json:"assetStatus,omitempty"`

	/* Output only. The time when the lake was created. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Output only. Metastore status of the lake. */
	// +optional
	MetastoreStatus *LakeMetastoreStatusStatus `json:"metastoreStatus,omitempty"`

	/* Output only. Service account associated with this lake. This service account must be authorized to access or operate on resources managed by the lake. */
	// +optional
	ServiceAccount *string `json:"serviceAccount,omitempty"`

	/* Output only. Current state of the lake. */
	// +optional
	State *string `json:"state,omitempty"`

	/* Output only. System generated globally unique ID for the lake. This ID will be different if the lake is deleted and re-created with the same name. */
	// +optional
	Uid *string `json:"uid,omitempty"`

	/* Output only. The time when the lake was last updated. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type DataplexLakeStatus struct {
	/* Conditions represent the latest available observations of the
	   DataplexLake's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the DataplexLake resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *LakeObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpdataplexlake;gcpdataplexlakes
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true"
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// DataplexLake is the Schema for the dataplex API
// +k8s:openapi-gen=true
type DataplexLake struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   DataplexLakeSpec   `json:"spec,omitempty"`
	Status DataplexLakeStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// DataplexLakeList contains a list of DataplexLake
type DataplexLakeList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []DataplexLake `json:"items"`
}

func init() {
	SchemeBuilder.Register(&DataplexLake{}, &DataplexLakeList{})
}
