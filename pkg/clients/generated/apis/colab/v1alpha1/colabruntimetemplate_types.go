// Copyright 2020 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
//
// ----------------------------------------------------------------------------
//
//     This file is automatically generated by Config Connector and manual
//     changes will be clobbered when the file is regenerated.
//
// ----------------------------------------------------------------------------

// *** DISCLAIMER ***
// Config Connector's go-client for CRDs is currently in ALPHA, which means
// that future versions of the go-client may include breaking changes.
// Please try it out and give us feedback!

package v1alpha1

import (
	"github.com/GoogleCloudPlatform/k8s-config-connector/pkg/clients/generated/apis/k8s/v1alpha1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

type RuntimetemplateDataPersistentDiskSpec struct {
	/* Size in GB of the disk (default is 100GB). */
	// +optional
	DiskSizeGB *int64 `json:"diskSizeGB,omitempty"`

	/* Type of the disk (default is "pd-standard"). Valid values: "pd-ssd" (Persistent Disk Solid State Drive) "pd-standard" (Persistent Disk Hard Disk Drive) "pd-balanced" (Balanced Persistent Disk) "pd-extreme" (Extreme Persistent Disk) */
	// +optional
	DiskType *string `json:"diskType,omitempty"`
}

type RuntimetemplateEncryptionSpec struct {
	/* Required. The Cloud KMS resource identifier of the customer managed encryption key used to protect a resource. Has the form: `projects/my-project/locations/my-region/keyRings/my-kr/cryptoKeys/my-key`. The key needs to be in the same region as where the compute resource is created. */
	// +optional
	KmsKeyRef *v1alpha1.ResourceRef `json:"kmsKeyRef,omitempty"`
}

type RuntimetemplateEucConfig struct {
	/* Input only. Whether EUC is disabled in this NotebookRuntimeTemplate. In proto3, the default value of a boolean is false. In this way, by default EUC will be enabled for NotebookRuntimeTemplate. */
	// +optional
	EucDisabled *bool `json:"eucDisabled,omitempty"`
}

type RuntimetemplateIdleShutdownConfig struct {
	/* Whether Idle Shutdown is disabled in this NotebookRuntimeTemplate. */
	// +optional
	IdleShutdownDisabled *bool `json:"idleShutdownDisabled,omitempty"`

	/* Required. Duration is accurate to the second. In Notebook, Idle Timeout is accurate to minute so the range of idle_timeout (second) is: 10 * 60 ~ 1440 * 60. */
	// +optional
	IdleTimeout *string `json:"idleTimeout,omitempty"`
}

type RuntimetemplateMachineSpec struct {
	/* The number of accelerators to attach to the machine. */
	// +optional
	AcceleratorCount *int32 `json:"acceleratorCount,omitempty"`

	/* Immutable. The type of accelerator(s) that may be attached to the machine as per [accelerator_count][google.cloud.aiplatform.v1beta1.MachineSpec.accelerator_count]. */
	// +optional
	AcceleratorType *string `json:"acceleratorType,omitempty"`

	/* Immutable. The type of the machine.

	See the [list of machine types supported for
	prediction](https://cloud.google.com/vertex-ai/docs/predictions/configure-compute#machine-types)

	See the [list of machine types supported for custom
	training](https://cloud.google.com/vertex-ai/docs/training/configure-compute#machine-types).

	For [DeployedModel][google.cloud.aiplatform.v1beta1.DeployedModel] this
	field is optional, and the default value is `n1-standard-2`. For
	[BatchPredictionJob][google.cloud.aiplatform.v1beta1.BatchPredictionJob] or
	as part of [WorkerPoolSpec][google.cloud.aiplatform.v1beta1.WorkerPoolSpec]
	this field is required. */
	// +optional
	MachineType *string `json:"machineType,omitempty"`

	/* Optional. Immutable. Configuration controlling how this resource pool consumes reservation. */
	// +optional
	ReservationAffinity *RuntimetemplateReservationAffinity `json:"reservationAffinity,omitempty"`

	/* Immutable. The topology of the TPUs. Corresponds to the TPU topologies available from GKE. (Example: tpu_topology: "2x2x1"). */
	// +optional
	TpuTopology *string `json:"tpuTopology,omitempty"`
}

type RuntimetemplateNetworkSpec struct {
	/* Whether to enable public internet access. Default false. */
	// +optional
	EnableInternetAccess *bool `json:"enableInternetAccess,omitempty"`

	/* The full name of the Google Compute Engine [network](https://cloud.google.com//compute/docs/networks-and-firewalls#networks) */
	// +optional
	NetworkRef *v1alpha1.ResourceRef `json:"networkRef,omitempty"`

	/* The name of the subnet that this instance is in. Format: `projects/{project_id_or_number}/regions/{region}/subnetworks/{subnetwork_id}` */
	SubnetworkRef v1alpha1.ResourceRef `json:"subnetworkRef"`
}

type RuntimetemplateReservationAffinity struct {
	/* Optional. Corresponds to the label key of a reservation resource. To target a SPECIFIC_RESERVATION by name, use `compute.googleapis.com/reservation-name` as the key and specify the name of your reservation as its value. */
	// +optional
	Key *string `json:"key,omitempty"`

	/* Required. Specifies the reservation affinity type. */
	// +optional
	ReservationAffinityType *string `json:"reservationAffinityType,omitempty"`

	/* Optional. Corresponds to the label values of a reservation resource. This must be the full resource name of the reservation. */
	// +optional
	Values []string `json:"values,omitempty"`
}

type RuntimetemplateShieldedVMConfig struct {
	/* Defines whether the instance has [Secure
	Boot](https://cloud.google.com/compute/shielded-vm/docs/shielded-vm#secure-boot)
	enabled.

	Secure Boot helps ensure that the system only runs authentic software by
	verifying the digital signature of all boot components, and halting the
	boot process if signature verification fails. */
	// +optional
	EnableSecureBoot *bool `json:"enableSecureBoot,omitempty"`
}

type ColabRuntimeTemplateSpec struct {
	/* Optional. The specification of [persistent disk][https://cloud.google.com/compute/docs/disks/persistent-disks] attached to the runtime as data disk storage. */
	// +optional
	DataPersistentDiskSpec *RuntimetemplateDataPersistentDiskSpec `json:"dataPersistentDiskSpec,omitempty"`

	/* The description of the NotebookRuntimeTemplate. */
	// +optional
	Description *string `json:"description,omitempty"`

	/* Required. The display name of the NotebookRuntimeTemplate. The name can be up to 128 characters long and can consist of any UTF-8 characters. */
	// +optional
	DisplayName *string `json:"displayName,omitempty"`

	/* Customer-managed encryption key spec for the notebook runtime. */
	// +optional
	EncryptionSpec *RuntimetemplateEncryptionSpec `json:"encryptionSpec,omitempty"`

	/* EUC configuration of the NotebookRuntimeTemplate. */
	// +optional
	EucConfig *RuntimetemplateEucConfig `json:"eucConfig,omitempty"`

	/* The idle shutdown configuration of NotebookRuntimeTemplate. This config will only be set when idle shutdown is enabled. */
	// +optional
	IdleShutdownConfig *RuntimetemplateIdleShutdownConfig `json:"idleShutdownConfig,omitempty"`

	/* The labels with user-defined metadata to organize the
	NotebookRuntimeTemplates.

	Label keys and values can be no longer than 64 characters
	(Unicode codepoints), can only contain lowercase letters, numeric
	characters, underscores and dashes. International characters are allowed.

	See https://goo.gl/xmQnxf for more information and examples of labels. */
	// +optional
	Labels map[string]string `json:"labels,omitempty"`

	/* Immutable. The name of the location where the RuntimeTemplate will be created. Required. */
	Location string `json:"location"`

	/* Optional. Immutable. The specification of a single machine for the template. */
	// +optional
	MachineSpec *RuntimetemplateMachineSpec `json:"machineSpec,omitempty"`

	/* Optional. Network spec. */
	// +optional
	NetworkSpec *RuntimetemplateNetworkSpec `json:"networkSpec,omitempty"`

	/* Optional. The Compute Engine tags to add to runtime (see [Tagging instances](https://cloud.google.com/vpc/docs/add-remove-network-tags)). */
	// +optional
	NetworkTags []string `json:"networkTags,omitempty"`

	/* Optional. Immutable. The type of the notebook runtime template. */
	// +optional
	NotebookRuntimeType *string `json:"notebookRuntimeType,omitempty"`

	/* Immutable. The Project that this resource belongs to. */
	ProjectRef v1alpha1.ResourceRef `json:"projectRef"`

	/* The ColabRuntimeTemplate name. If not given, the metadata.name will be used. */
	// +optional
	ResourceID *string `json:"resourceID,omitempty"`

	/* The service account that the runtime workload runs as.
	You can use any service account within the same project, but you
	must have the service account user permission to use the instance.

	If not specified, the [Compute Engine default service
	account](https://cloud.google.com/compute/docs/access/service-accounts#default_service_account)
	is used. */
	// +optional
	ServiceAccountRef *v1alpha1.ResourceRef `json:"serviceAccountRef,omitempty"`

	/* Optional. Immutable. Runtime Shielded VM spec. */
	// +optional
	ShieldedVMConfig *RuntimetemplateShieldedVMConfig `json:"shieldedVMConfig,omitempty"`
}

type RuntimetemplateEucConfigStatus struct {
	/* Output only. Whether ActAs check is bypassed for service account attached to the VM. If false, we need ActAs check for the default Compute Engine Service account. When a Runtime is created, a VM is allocated using Default Compute Engine Service Account. Any user requesting to use this Runtime requires Service Account User (ActAs) permission over this SA. If true, Runtime owner is using EUC and does not require the above permission as VM no longer use default Compute Engine SA, but a P4SA. */
	// +optional
	BypassActasCheck *bool `json:"bypassActasCheck,omitempty"`
}

type RuntimetemplateObservedStateStatus struct {
	/* Output only. Timestamp when this NotebookRuntimeTemplate was created. */
	// +optional
	CreateTime *string `json:"createTime,omitempty"`

	/* Used to perform consistent read-modify-write updates. If not set, a blind "overwrite" update happens. */
	// +optional
	Etag *string `json:"etag,omitempty"`

	/* EUC configuration of the NotebookRuntimeTemplate. */
	// +optional
	EucConfig *RuntimetemplateEucConfigStatus `json:"eucConfig,omitempty"`

	/* Output only. Timestamp when this NotebookRuntimeTemplate was most recently updated. */
	// +optional
	UpdateTime *string `json:"updateTime,omitempty"`
}

type ColabRuntimeTemplateStatus struct {
	/* Conditions represent the latest available observations of the
	   ColabRuntimeTemplate's current state. */
	Conditions []v1alpha1.Condition `json:"conditions,omitempty"`
	/* A unique specifier for the ColabRuntimeTemplate resource in GCP. */
	// +optional
	ExternalRef *string `json:"externalRef,omitempty"`

	/* ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource. */
	// +optional
	ObservedGeneration *int64 `json:"observedGeneration,omitempty"`

	/* ObservedState is the state of the resource as most recently observed in GCP. */
	// +optional
	ObservedState *RuntimetemplateObservedStateStatus `json:"observedState,omitempty"`
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:resource:categories=gcp,shortName=gcpcolabruntimetemplate;gcpcolabruntimetemplates
// +kubebuilder:subresource:status
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/managed-by-kcc=true"
// +kubebuilder:metadata:labels="cnrm.cloud.google.com/system=true"
// +kubebuilder:printcolumn:name="Age",JSONPath=".metadata.creationTimestamp",type="date"
// +kubebuilder:printcolumn:name="Ready",JSONPath=".status.conditions[?(@.type=='Ready')].status",type="string",description="When 'True', the most recent reconcile of the resource succeeded"
// +kubebuilder:printcolumn:name="Status",JSONPath=".status.conditions[?(@.type=='Ready')].reason",type="string",description="The reason for the value in 'Ready'"
// +kubebuilder:printcolumn:name="Status Age",JSONPath=".status.conditions[?(@.type=='Ready')].lastTransitionTime",type="date",description="The last transition time for the value in 'Status'"

// ColabRuntimeTemplate is the Schema for the colab API
// +k8s:openapi-gen=true
type ColabRuntimeTemplate struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   ColabRuntimeTemplateSpec   `json:"spec,omitempty"`
	Status ColabRuntimeTemplateStatus `json:"status,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object

// ColabRuntimeTemplateList contains a list of ColabRuntimeTemplate
type ColabRuntimeTemplateList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []ColabRuntimeTemplate `json:"items"`
}

func init() {
	SchemeBuilder.Register(&ColabRuntimeTemplate{}, &ColabRuntimeTemplateList{})
}
