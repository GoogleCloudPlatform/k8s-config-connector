apiVersion: backupdr.cnrm.cloud.google.com/v1beta1
kind: BackupDRBackupPlan
metadata:
  finalizers:
  - cnrm.cloud.google.com/finalizer
  - cnrm.cloud.google.com/deletion-defender
  generation: 1
  labels:
    cnrm-test: "true"
    key1: value1
  name: backupdrbackupplan-full-${uniqueId}
  namespace: ${uniqueId}
spec:
  backupRules:
  - backupRetentionDays: 10
    ruleID: daily-rule
    standardSchedule:
      backupWindow:
        endHourOfDay: 10
        startHourOfDay: 6
      recurrenceType: DAILY
      timeZone: America/New_York
  - backupRetentionDays: 30
    ruleID: weekly-rule
    standardSchedule:
      backupWindow:
        endHourOfDay: 12
        startHourOfDay: 8
      daysOfWeek:
      - MONDAY
      recurrenceType: WEEKLY
      timeZone: America/New_York
  - backupRetentionDays: 90
    ruleID: monthly-rule
    standardSchedule:
      backupWindow:
        endHourOfDay: 14
        startHourOfDay: 10
      recurrenceType: MONTHLY
      timeZone: America/New_York
      weekDayOfMonth:
        dayOfWeek: SUNDAY
        weekOfMonth: FIRST
  - backupRetentionDays: 365
    ruleID: yearly-rule
    standardSchedule:
      backupWindow:
        endHourOfDay: 16
        startHourOfDay: 12
      daysOfMonth:
      - 1
      months:
      - JANUARY
      - JULY
      recurrenceType: YEARLY
      timeZone: America/New_York
  backupVaultRef:
    name: backupdrbackupvault-full-${uniqueId}
  description: A full backup plan for testing.
  location: us-central1
  projectRef:
    external: ${projectId}
  resourceType: compute.googleapis.com/Instance
status:
  conditions:
  - lastTransitionTime: "1970-01-01T00:00:00Z"
    message: The resource is up to date
    reason: UpToDate
    status: "True"
    type: Ready
  externalRef: projects/${projectId}/locations/us-central1/backupPlans/backupdrbackupplan-full-${uniqueId}
  observedGeneration: 1
  observedState:
    backupVaultServiceAccount: vault-${projectNumber}-12345@gcp-sa-backupdr-pr.iam.gserviceaccount.com
    createTime: "1970-01-01T00:00:00Z"
    state: ACTIVE
    updateTime: "1970-01-01T00:00:00Z"
