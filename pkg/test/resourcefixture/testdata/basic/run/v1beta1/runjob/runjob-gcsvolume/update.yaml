apiVersion: run.cnrm.cloud.google.com/v1beta1
kind: RunJob
metadata:
  name: runjob-${uniqueId}
  annotations:
    alpha.cnrm.cloud.google.com/reconciler: direct
spec:
  launchStage: "GA"
  location: "us-central1"
  projectRef:
    external: "${projectId}"
  template:
    template:
      volumes:
        - name: "gcsvolume"
          gcs:
            bucketRef:
              name: storagebucket-2-${uniqueId}
            readOnly: false
            mountOptions:
              - "implicit-dirs"
      containers:
      - image: "us-docker.pkg.dev/cloudrun/container/hello"
        volumeMounts:
          - name: "gcsvolume"
            mountPath: "/mnt/gcs"
