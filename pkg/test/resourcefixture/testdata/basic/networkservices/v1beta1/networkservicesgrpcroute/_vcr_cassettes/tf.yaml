# Copyright 2024 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: true
        body: fake error message
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 404 Not Found
        code: 404
        duration: 199.734567ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: true
        body: fake error message
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 404 Not Found
        code: 404
        duration: 142.624328ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 211
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: |
            {"connectionDraining":{"drainingTimeoutSec":300},"iap":{"enabled":false,"oauth2ClientId":"","oauth2ClientSecret":""},"loadBalancingScheme":"INTERNAL_SELF_MANAGED","name":"computebackendservice-1-3elfauhbt8s3t"}
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices?alt=json
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#operation",
              "id": "1447934109658843721",
              "name": "operation-1724822694595-620b7940309ca-051cd25a-3a82611f",
              "operationType": "insert",
              "targetLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t",
              "targetId": "1113206052488415817",
              "status": "RUNNING",
              "user": "user@google.com",
              "progress": 0,
              "insertTime": "2024-08-27T22:24:54.838-07:00",
              "startTime": "2024-08-27T22:24:54.842-07:00",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694595-620b7940309ca-051cd25a-3a82611f"
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 432.816809ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 211
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: |
            {"connectionDraining":{"drainingTimeoutSec":300},"iap":{"enabled":false,"oauth2ClientId":"","oauth2ClientSecret":""},"loadBalancingScheme":"INTERNAL_SELF_MANAGED","name":"computebackendservice-2-3elfauhbt8s3t"}
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices?alt=json
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#operation",
              "id": "7127970144632113737",
              "name": "operation-1724822694550-620b794025afc-43a24b3b-d0223809",
              "operationType": "insert",
              "targetLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "targetId": "345482808696965705",
              "status": "RUNNING",
              "user": "user@google.com",
              "progress": 0,
              "insertTime": "2024-08-27T22:24:54.876-07:00",
              "startTime": "2024-08-27T22:24:54.879-07:00",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694550-620b794025afc-43a24b3b-d0223809"
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 528.613007ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            X-Goog-Api-Client:
                - gl-go/1.23.0--20240626-RC01 cl/646990413 +5a18e79687 X:fieldtrack,boringcrypto gdcl/0.191.0
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694595-620b7940309ca-051cd25a-3a82611f?alt=json&prettyPrint=false
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"kind":"compute#operation","id":"1447934109658843721","name":"operation-1724822694595-620b7940309ca-051cd25a-3a82611f","operationType":"insert","targetLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t","targetId":"1113206052488415817","status":"DONE","user":"user@google.com","progress":100,"insertTime":"2024-08-27T22:24:54.838-07:00","startTime":"2024-08-27T22:24:54.842-07:00","endTime":"2024-08-27T22:25:13.327-07:00","selfLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694595-620b7940309ca-051cd25a-3a82611f"}'
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 149.221316ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            X-Goog-Api-Client:
                - gl-go/1.23.0--20240626-RC01 cl/646990413 +5a18e79687 X:fieldtrack,boringcrypto gdcl/0.191.0
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694550-620b794025afc-43a24b3b-d0223809?alt=json&prettyPrint=false
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"kind":"compute#operation","id":"7127970144632113737","name":"operation-1724822694550-620b794025afc-43a24b3b-d0223809","operationType":"insert","targetLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t","targetId":"345482808696965705","status":"DONE","user":"user@google.com","progress":100,"insertTime":"2024-08-27T22:24:54.876-07:00","startTime":"2024-08-27T22:24:54.879-07:00","endTime":"2024-08-27T22:25:13.049-07:00","selfLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822694550-620b794025afc-43a24b3b-d0223809"}'
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 256.368587ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "1113206052488415817",
              "creationTimestamp": "2024-08-27T22:24:54.802-07:00",
              "name": "computebackendservice-1-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "kT_FoK2_ePo=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 208.946486ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "345482808696965705",
              "creationTimestamp": "2024-08-27T22:24:54.872-07:00",
              "name": "computebackendservice-2-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "Umc-95eg6LY=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 112.499774ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "1113206052488415817",
              "creationTimestamp": "2024-08-27T22:24:54.802-07:00",
              "name": "computebackendservice-1-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "kT_FoK2_ePo=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 211.148074ms
    - id: 9
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "345482808696965705",
              "creationTimestamp": "2024-08-27T22:24:54.872-07:00",
              "name": "computebackendservice-2-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "Umc-95eg6LY=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 230.488814ms
    - id: 10
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "1113206052488415817",
              "creationTimestamp": "2024-08-27T22:24:54.802-07:00",
              "name": "computebackendservice-1-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "kT_FoK2_ePo=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 132.32521ms
    - id: 11
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "345482808696965705",
              "creationTimestamp": "2024-08-27T22:24:54.872-07:00",
              "name": "computebackendservice-2-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "Umc-95eg6LY=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 184.999588ms
    - id: 12
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "error": {
                "code": 412,
                "message": "The resource cannot be deleted because it's being used by //networkservices.googleapis.com/projects/123456789/locations/global/grpcRoutes/networkservicesgrpcroute-3elfauhbt8s3t",
                "errors": [
                  {
                    "message": "The resource cannot be deleted because it's being used by //networkservices.googleapis.com/projects/123456789/locations/global/grpcRoutes/networkservicesgrpcroute-3elfauhbt8s3t",
                    "domain": "global",
                    "reason": "conditionNotMet",
                    "location": "If-Match",
                    "debugInfo": "java.lang.Exception\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.newErrorBuilder(PublicErrorProtoUtils.java:2175)\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.newErrorBuilder(PublicErrorProtoUtils.java:2167)\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.createConditionNotMetError(PublicErrorProtoUtils.java:1189)\n\tat com.google.cloud.cluster.manager.networking.services.backendservice.BackendServicesServiceDeleteAction$Handler.prepareMutationFlow(BackendServicesServiceDeleteAction.java:97)\n\tat com.google.cloud.cluster.manager.networking.services.backendservice.BackendServicesServiceDeleteAction$Handler.prepareMutationFlow(BackendServicesServiceDeleteAction.java:72)\n\tat com.google.cloud.control.frontend.action.SimpleResourceMutationActionHandler.prepareMutationFlow(SimpleResourceMutationActionHandler.java:27)\n\tat com.google.cloud.control.frontend.action.SimpleResourceMutationActionHandler.prepareMutationFlow(SimpleResourceMutationActionHandler.java:16)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlowForProvider(ResourceMixerMutationActionExecutor.java:535)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlow(ResourceMixerMutationActionExecutor.java:421)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlow(ResourceMixerMutationActionExecutor.java:379)\n\tat com.google.cloud.control.frontend.action.MixerMutationActionExecutor$InnerHandler.runAttempt(MixerMutationActionExecutor.java:1075)\n\tat com.google.cloud.control.frontend.action.MixerMutationActionExecutor$InnerHandler.runAttempt(MixerMutationActionExecutor.java:746)\n\tat com.google.cloud.cluster.metastore.RetryingMetastoreTransactionExecutor$1.runAttempt(RetryingMetastoreTransactionExecutor.java:94)\n\tat com.google.cloud.cluster.metastore.MetastoreRetryLoop.runHandler(MetastoreRetryLoop.java:523)\n\t...Stack trace is shortened.\n",
                    "locationType": "header"
                  }
                ]
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 412 Precondition Failed
        code: 412
        duration: 315.142791ms
    - id: 13
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t?alt=json
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#operation",
              "id": "8689487702177024568",
              "name": "operation-1724822743166-620b796e82f44-3b3ff8f5-53f065f8",
              "operationType": "delete",
              "targetLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t",
              "targetId": "1113206052488415817",
              "status": "RUNNING",
              "user": "user@google.com",
              "progress": 0,
              "insertTime": "2024-08-27T22:25:43.466-07:00",
              "startTime": "2024-08-27T22:25:43.470-07:00",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822743166-620b796e82f44-3b3ff8f5-53f065f8"
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 584.863676ms
    - id: 14
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "345482808696965705",
              "creationTimestamp": "2024-08-27T22:24:54.872-07:00",
              "name": "computebackendservice-2-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "Umc-95eg6LY=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 127.973525ms
    - id: 15
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "error": {
                "code": 412,
                "message": "The resource cannot be deleted because it's being used by //networkservices.googleapis.com/projects/123456789/locations/global/grpcRoutes/networkservicesgrpcroute-3elfauhbt8s3t",
                "errors": [
                  {
                    "message": "The resource cannot be deleted because it's being used by //networkservices.googleapis.com/projects/123456789/locations/global/grpcRoutes/networkservicesgrpcroute-3elfauhbt8s3t",
                    "domain": "global",
                    "reason": "conditionNotMet",
                    "location": "If-Match",
                    "debugInfo": "java.lang.Exception\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.newErrorBuilder(PublicErrorProtoUtils.java:2175)\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.newErrorBuilder(PublicErrorProtoUtils.java:2167)\n\tat com.google.cloud.control.common.publicerrors.PublicErrorProtoUtils.createConditionNotMetError(PublicErrorProtoUtils.java:1189)\n\tat com.google.cloud.cluster.manager.networking.services.backendservice.BackendServicesServiceDeleteAction$Handler.prepareMutationFlow(BackendServicesServiceDeleteAction.java:97)\n\tat com.google.cloud.cluster.manager.networking.services.backendservice.BackendServicesServiceDeleteAction$Handler.prepareMutationFlow(BackendServicesServiceDeleteAction.java:72)\n\tat com.google.cloud.control.frontend.action.SimpleResourceMutationActionHandler.prepareMutationFlow(SimpleResourceMutationActionHandler.java:27)\n\tat com.google.cloud.control.frontend.action.SimpleResourceMutationActionHandler.prepareMutationFlow(SimpleResourceMutationActionHandler.java:16)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlowForProvider(ResourceMixerMutationActionExecutor.java:535)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlow(ResourceMixerMutationActionExecutor.java:421)\n\tat com.google.cloud.control.frontend.action.ResourceMixerMutationActionExecutor$InnerHandler.prepareMutationFlow(ResourceMixerMutationActionExecutor.java:379)\n\tat com.google.cloud.control.frontend.action.MixerMutationActionExecutor$InnerHandler.runAttempt(MixerMutationActionExecutor.java:1075)\n\tat com.google.cloud.control.frontend.action.MixerMutationActionExecutor$InnerHandler.runAttempt(MixerMutationActionExecutor.java:746)\n\tat com.google.cloud.cluster.metastore.RetryingMetastoreTransactionExecutor$1.runAttempt(RetryingMetastoreTransactionExecutor.java:94)\n\tat com.google.cloud.cluster.metastore.MetastoreRetryLoop.runHandler(MetastoreRetryLoop.java:523)\n\t...Stack trace is shortened.\n",
                    "locationType": "header"
                  }
                ]
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 412 Precondition Failed
        code: 412
        duration: 292.444423ms
    - id: 16
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#backendService",
              "id": "345482808696965705",
              "creationTimestamp": "2024-08-27T22:24:54.872-07:00",
              "name": "computebackendservice-2-3elfauhbt8s3t",
              "description": "",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "timeoutSec": 30,
              "port": 80,
              "protocol": "HTTP",
              "fingerprint": "Umc-95eg6LY=",
              "portName": "http",
              "sessionAffinity": "NONE",
              "affinityCookieTtlSec": 0,
              "loadBalancingScheme": "INTERNAL_SELF_MANAGED",
              "connectionDraining": {
                "drainingTimeoutSec": 300
              },
              "iap": {
                "enabled": false,
                "oauth2ClientId": "",
                "oauth2ClientSecretSha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
              }
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 142.359023ms
    - id: 17
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t?alt=json
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: |
            {
              "kind": "compute#operation",
              "id": "5922190357254310413",
              "name": "operation-1724822754011-620b7978da78a-b4751d83-926c3bea",
              "operationType": "delete",
              "targetLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t",
              "targetId": "345482808696965705",
              "status": "RUNNING",
              "user": "user@google.com",
              "progress": 0,
              "insertTime": "2024-08-27T22:25:54.265-07:00",
              "startTime": "2024-08-27T22:25:54.268-07:00",
              "selfLink": "https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822754011-620b7978da78a-b4751d83-926c3bea"
            }
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 378.930926ms
    - id: 18
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            X-Goog-Api-Client:
                - gl-go/1.23.0--20240626-RC01 cl/646990413 +5a18e79687 X:fieldtrack,boringcrypto gdcl/0.191.0
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822743166-620b796e82f44-3b3ff8f5-53f065f8?alt=json&prettyPrint=false
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"kind":"compute#operation","id":"8689487702177024568","name":"operation-1724822743166-620b796e82f44-3b3ff8f5-53f065f8","operationType":"delete","targetLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-1-3elfauhbt8s3t","targetId":"1113206052488415817","status":"DONE","user":"user@google.com","progress":100,"insertTime":"2024-08-27T22:25:43.466-07:00","startTime":"2024-08-27T22:25:43.470-07:00","endTime":"2024-08-27T22:25:53.837-07:00","selfLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822743166-620b796e82f44-3b3ff8f5-53f065f8"}'
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 114.25355ms
    - id: 19
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: compute.googleapis.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            X-Goog-Api-Client:
                - gl-go/1.23.0--20240626-RC01 cl/646990413 +5a18e79687 X:fieldtrack,boringcrypto gdcl/0.191.0
        url: https://compute.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822754011-620b7978da78a-b4751d83-926c3bea?alt=json&prettyPrint=false
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"kind":"compute#operation","id":"5922190357254310413","name":"operation-1724822754011-620b7978da78a-b4751d83-926c3bea","operationType":"delete","targetLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/backendServices/computebackendservice-2-3elfauhbt8s3t","targetId":"345482808696965705","status":"DONE","user":"user@google.com","progress":100,"insertTime":"2024-08-27T22:25:54.265-07:00","startTime":"2024-08-27T22:25:54.268-07:00","endTime":"2024-08-27T22:26:04.268-07:00","selfLink":"https://www.googleapis.com/compute/beta/projects/example-project/global/operations/operation-1724822754011-620b7978da78a-b4751d83-926c3bea"}'
        headers:
            Content-Type:
                - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 119.898317ms
