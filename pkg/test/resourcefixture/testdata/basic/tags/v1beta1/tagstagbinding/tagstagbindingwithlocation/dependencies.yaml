apiVersion: run.cnrm.cloud.google.com/v1beta1
kind: RunService
metadata:
  name: runservice-${uniqueId}
  annotations:
    alpha.cnrm.cloud.google.com/reconciler: direct
spec:
  ingress: "INGRESS_TRAFFIC_ALL"
  launchStage: "GA"
  location: "us-central1"
  projectRef:
    external: "projects/${projectId}"
  template:
    containers:
      - env:
          - name: "FOO"
            value: "bar"
        image: "gcr.io/cloudrun/hello"
    scaling:
      maxInstanceCount: 2
  traffic:
    - percent: 100
      type: "TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST"
---
apiVersion: tags.cnrm.cloud.google.com/v1beta1
kind: TagsTagKey
metadata:
  name: tagstagkey-${uniqueId}
spec:
  description: For keyname resources.
  parent: organizations/${TEST_ORG_ID}
  shortName: keyname${uniqueId}
---
apiVersion: tags.cnrm.cloud.google.com/v1beta1
kind: TagsTagValue
metadata:
  name: tagstagvalue-${uniqueId}
spec:
  description: For valuename resources.
  parentRef:
    name: tagstagkey-${uniqueId}
  shortName: valuename
