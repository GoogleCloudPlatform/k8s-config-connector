apiVersion: bigquery.cnrm.cloud.google.com/v1beta1
kind: BigQueryDataset
metadata:
  annotations:
    cnrm.cloud.google.com/delete-contents-on-destroy: "false"
  labels:
    cnrm-test: "true"
    managed-by-cnrm: "true"
  name: bigquerydataset${uniqueId}
spec:
  access:
  - role: OWNER
    specialGroup: projectOwners
  - role: OWNER
    userByEmail: user@google.com
  - role: READER
    specialGroup: projectReaders
  - role: WRITER
    specialGroup: projectWriters
  defaultTableExpirationMs: 7200000
  description: BigQuery Dataset With Access Block v2 Updated
  friendlyName: bigquerydataset-accessblock
  location: US
  maxTimeTravelHours: "168"
  projectRef:
    external: ${projectId}
  resourceID: bigquerydataset${uniqueId}